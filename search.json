[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Formation aux bonnes pratiques `Git` et `R`",
    "section": "",
    "text": "Un parcours de formation construit par l’Insee.\n\nTous les supports sont sur le Github InseeFrLab   \n\n\n\n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            \n            \n\n            \n              \nVersion allégée de la formation aux bonnes pratiques en\nR et en Git, axée autour de\nl'apprentissage de Git, de la structure des projets R et\nde la qualité du code R\n\n\nVersion en une journée\n\n            \n\n            \n            \n              \n                \n              \n            \n            \n            \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            \n            \n\n            \n              \nVersion complète de la formation aux bonnes pratiques en\nR et en Git, axée autour de la notion de\nreproductibilité et de la collaboration.\n\n\nVersion en deux jours\n\n            \n\n            \n            \n              \n                \n              \n            \n            \n            \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            \n            \n\n            \n              \nVersion plus succincte pour sensibiliser les\nresponsables hiérarchiques au sujet\ndes bonnes pratiques de code\nR et en Git.\n\n\nVersion 1/2 journée\n\n            \n\n            \n            \n              \n                \n              \n            \n            \n            \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            \n            \n\n            \n              \nPrésentation rapide sous forme de teasing\nde la formation aux bonnes pratiques en\nR et en Git.\n\n\nVersion en 1h\n\n            \n\n            \n            \n              \n                \n              \n            \n            \n            \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html#formation-aux-bonnes-pratiques-avec-git-et",
    "href": "index.html#formation-aux-bonnes-pratiques-avec-git-et",
    "title": "Formation aux bonnes pratiques `Git` et `R`",
    "section": "",
    "text": "Un parcours de formation construit par l’Insee.\n\nTous les supports sont sur le Github InseeFrLab   \n\n\n\n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            \n            \n\n            \n              \nVersion allégée de la formation aux bonnes pratiques en\nR et en Git, axée autour de\nl'apprentissage de Git, de la structure des projets R et\nde la qualité du code R\n\n\nVersion en une journée\n\n            \n\n            \n            \n              \n                \n              \n            \n            \n            \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            \n            \n\n            \n              \nVersion complète de la formation aux bonnes pratiques en\nR et en Git, axée autour de la notion de\nreproductibilité et de la collaboration.\n\n\nVersion en deux jours\n\n            \n\n            \n            \n              \n                \n              \n            \n            \n            \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            \n            \n\n            \n              \nVersion plus succincte pour sensibiliser les\nresponsables hiérarchiques au sujet\ndes bonnes pratiques de code\nR et en Git.\n\n\nVersion 1/2 journée\n\n            \n\n            \n            \n              \n                \n              \n            \n            \n            \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            \n            \n\n            \n              \nPrésentation rapide sous forme de teasing\nde la formation aux bonnes pratiques en\nR et en Git.\n\n\nVersion en 1h\n\n            \n\n            \n            \n              \n                \n              \n            \n            \n            \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html#crédits",
    "href": "index.html#crédits",
    "title": "Formation aux bonnes pratiques `Git` et `R`",
    "section": "Crédits",
    "text": "Crédits\nCette formation a été conçue de manière collaborative par des équipes de l’Insee et coordonnée par Romain Avouac et Lino Galiana.\nElle a bénéficié des contributions de : Romain Avouac, Julien Blasco, Thomas Faria, Lino Galiana, Pierre Lamarche, Romain Lesur Olivier Meslin, Olivier Pucher, Clément Rousset, Mohamed Seikouri et Tom Seimandi.\nLes supports et le code source (Github InseeFrLab ) sont librement réutilisables et disponibles sous licence MIT."
  },
  {
    "objectID": "slides/light.html#introduction",
    "href": "slides/light.html#introduction",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Introduction",
    "text": "Introduction\n\nVersion courte de la formation aux bonnes pratiques avec R et Git\n\n\nRetour à la page d’accueil pour explorer les autres versions"
  },
  {
    "objectID": "slides/light.html#la-notion-de-bonnes-pratiques",
    "href": "slides/light.html#la-notion-de-bonnes-pratiques",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "La notion de bonnes pratiques",
    "text": "La notion de bonnes pratiques\n\nOrigine : communauté des développeurs logiciels\n\n\nConstats :\n\nle “code est plus souvent lu qu’écrit” (Guido Van Rossum)\nla maintenance d’un code est très coûteuse\n\n\n\n\nConséquence : un ensemble de règles informelles, conventionnellement acceptées comme produisant des logiciels fiables, évolutifs et maintenables"
  },
  {
    "objectID": "slides/light.html#pourquoi-sintéresser-aux-bonnes-pratiques",
    "href": "slides/light.html#pourquoi-sintéresser-aux-bonnes-pratiques",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Pourquoi s’intéresser aux bonnes pratiques ?",
    "text": "Pourquoi s’intéresser aux bonnes pratiques ?\n\nL’activité du statisticien / datascientist tend à se rapprocher de celle du développeur :\n\n\nprojets intenses en code\n\n\n\n\nprojets collaboratifs et de grande envergure\n\n\n\n\ncomplexification des données et donc des infrastructures\n\n\n\n\ndéploiement d’applications pour valoriser les analyses"
  },
  {
    "objectID": "slides/light.html#bonnes-pratiques-et-reproductibilité",
    "href": "slides/light.html#bonnes-pratiques-et-reproductibilité",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Bonnes pratiques et reproductibilité",
    "text": "Bonnes pratiques et reproductibilité\n\n\n\n\n\nSource : Peng R., Reproducible Research in Computational Science, Science (2011)\n\n\nUne reproductibilité parfaite est coûteuse\n\n\n\n\nGit est un standard atteignable et efficient"
  },
  {
    "objectID": "slides/light.html#plan-de-la-partie",
    "href": "slides/light.html#plan-de-la-partie",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Plan de la partie",
    "text": "Plan de la partie\n1️⃣ Le contrôle de version : pourquoi faire ?\n\n2️⃣ Le contrôle de version avec Git"
  },
  {
    "objectID": "slides/light.html#archiver-son-code-proprement",
    "href": "slides/light.html#archiver-son-code-proprement",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Archiver son code proprement",
    "text": "1️⃣ Archiver son code proprement\npour en finir avec ça :"
  },
  {
    "objectID": "slides/light.html#archiver-son-code-proprement-1",
    "href": "slides/light.html#archiver-son-code-proprement-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Archiver son code proprement",
    "text": "1️⃣ Archiver son code proprement\nou encore ça :\nprior &lt;- read_csv(prior_path)\nprior &lt;- prior %&gt;%\n    select(id, proba_inter, proba_build, proba_rfl) %&gt;%\n    separate(id, into = c('nidt', 'grid_id'), sep = \":\") %&gt;%\n    group_by(nidt) %&gt;%\n    mutate(\n        proba_build = proba_build/sum(proba_build),\n        proba_rfl = proba_rfl/sum(proba_rfl),\n        ) %&gt;%\n    unite(col = \"id\", nidt, grid_id, sep = \":\")\n\n# Test\n# prior_test &lt;- prior %&gt;%\n#    mutate(\n#        proba_inter = round(proba_inter, 4)\n#        proba_build = round(proba_build, 4)\n#        proba_rfl = round(proba_rfl, 4)\n#    )\n\nwrite_csv(prior_round, \"~/prior.csv\")"
  },
  {
    "objectID": "slides/light.html#archiver-son-code-proprement-2",
    "href": "slides/light.html#archiver-son-code-proprement-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Archiver son code proprement",
    "text": "1️⃣ Archiver son code proprement\nPour arriver à ça :\n\n\n\n\n\nSource : ThinkR"
  },
  {
    "objectID": "slides/light.html#voyager-dans-le-temps-de-votre-projet",
    "href": "slides/light.html#voyager-dans-le-temps-de-votre-projet",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Voyager dans le temps (de votre projet)",
    "text": "2️⃣ Voyager dans le temps (de votre projet)"
  },
  {
    "objectID": "slides/light.html#une-collaboration-simplifiée-et-efficace",
    "href": "slides/light.html#une-collaboration-simplifiée-et-efficace",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Une collaboration simplifiée et efficace",
    "text": "3️⃣ Une collaboration simplifiée et efficace\nUn modèle distribué\n\n\n\n\n\nSource : specbee.com"
  },
  {
    "objectID": "slides/light.html#une-collaboration-simplifiée-et-efficace-1",
    "href": "slides/light.html#une-collaboration-simplifiée-et-efficace-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Une collaboration simplifiée et efficace",
    "text": "3️⃣ Une collaboration simplifiée et efficace\nQui permet l’expérimentation en toute sécurité - les branches :\n\nSource : lutece.paris.fr"
  },
  {
    "objectID": "slides/light.html#une-collaboration-simplifiée-et-efficace-2",
    "href": "slides/light.html#une-collaboration-simplifiée-et-efficace-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Une collaboration simplifiée et efficace",
    "text": "3️⃣ Une collaboration simplifiée et efficace\nQuel que soit l’environnement de travail"
  },
  {
    "objectID": "slides/light.html#une-collaboration-simplifiée-et-efficace-3",
    "href": "slides/light.html#une-collaboration-simplifiée-et-efficace-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Une collaboration simplifiée et efficace",
    "text": "3️⃣ Une collaboration simplifiée et efficace\nAvec des outils pour faciliter la collaboration"
  },
  {
    "objectID": "slides/light.html#partager-son-code-à-un-public-large",
    "href": "slides/light.html#partager-son-code-à-un-public-large",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Partager son code à un public large",
    "text": "4️⃣ Partager son code à un public large\nUne vitrine pour les projets et l’organisation : exemple de l’espace de l’Insee sur GitHub"
  },
  {
    "objectID": "slides/light.html#en-résumé",
    "href": "slides/light.html#en-résumé",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "En résumé",
    "text": "En résumé\n\nConstruire et naviguer à travers l’historique de son projet\n\n\n\nLa collaboration rendue simple et efficace\n\n\n\n\nAméliorer la reproductibilité de ses projets\n\n\n\n\nAméliorer la visibilité de ses projets"
  },
  {
    "objectID": "slides/light.html#git-est-complexe",
    "href": "slides/light.html#git-est-complexe",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "⚠️ Git est complexe",
    "text": "⚠️ Git est complexe\nL’utilisation de Git nécessite certaines notions préalables:\n\nFonctionnement d’un filesystem et Connaissance basique du terminal Linux\nPotentiellement, un grand nombre de commandes\n\n\n\n\nSource : Ici"
  },
  {
    "objectID": "slides/light.html#git-est-complexe-1",
    "href": "slides/light.html#git-est-complexe-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "⚠️ Git est complexe",
    "text": "⚠️ Git est complexe\nMais\n\nL’usage quotidien n’implique que quelques commandes\nLors de chaque action, Git renvoie un message qui indique s’il y a eu problème (il faut lire les messages de Git!)\nEnormément de ressources disponibles sur internet\nDes interfaces visuelles (ex: RStudio, Sublime Merge, VS Code) qui facilitent l’apprentissage\nUn petit investissement individuel pour de gros gains collectifs"
  },
  {
    "objectID": "slides/light.html#concepts",
    "href": "slides/light.html#concepts",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Concepts",
    "text": "Concepts\nGit, GitHub, GitLab… quelles différences ?\n\nGit est un logiciel ;\nPensé initialement pour une utilisation en ligne de commandes\nDifférentes interfaces graphiques (RStudio, Sublime Merge, VS Code…)"
  },
  {
    "objectID": "slides/light.html#concepts-1",
    "href": "slides/light.html#concepts-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Concepts",
    "text": "Concepts\nGit, GitHub, GitLab… quelles différences ?\n\nGitHub et GitLab sont des forges logicielles\nForge: espace d’archivage de code\nDes fonctionalités supplémentaires : réseau social du code\n\n\n\n\n\n\n\nAstuce\n\n\n\nGitHub : utilisation pour les projets open-source\nGitLab : utilisation pour les projets internes"
  },
  {
    "objectID": "slides/light.html#concepts-2",
    "href": "slides/light.html#concepts-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Concepts",
    "text": "Concepts\nDépôt local / dépôt distant (remote)\n\n\n\n\n\n\nPar défaut, le dépôt distant porte l’alias origin"
  },
  {
    "objectID": "slides/light.html#concepts-3",
    "href": "slides/light.html#concepts-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Concepts",
    "text": "Concepts\nWorkflow complet\n\n\n\nSource : itnext.io\n\n\nCommentaires “maison”"
  },
  {
    "objectID": "slides/light.html#commandes-essentielles",
    "href": "slides/light.html#commandes-essentielles",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Commandes essentielles",
    "text": "Commandes essentielles\nQuelques exemples en ligne de commande\n\n\n\n\nAction\nCommande\n\n\n\n\nCloner un projet\ngit clone [url-to-git-repo]\n\n\nAfficher le statut des changements pour Git\ngit status\n\n\nRetrouver l’URL du dépôt distant\ngit remote -v"
  },
  {
    "objectID": "slides/light.html#commandes-essentielles-1",
    "href": "slides/light.html#commandes-essentielles-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Commandes essentielles",
    "text": "Commandes essentielles\n\n\n\n\n\n\n\n\nAction\nCommande\n\n\n\n\nAjouter des changements à l’index de Git (stage fixes)\nUn seul fichier : git add &lt;file-name&gt;  Tous les fichiers déjà indexés : git add -u  Tous les fichiers ⚠️ : git add -A\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\nLa méthode git add -A peut amener à suivre les modifications de fichiers qui ne devraient pas l’être (par exemple, des données).\nIl est recommandé de bien réfléchir avant de l’utiliser (ou d’avoir un bon .gitignore)"
  },
  {
    "objectID": "slides/light.html#commandes-essentielles-2",
    "href": "slides/light.html#commandes-essentielles-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Commandes essentielles",
    "text": "Commandes essentielles\n\n\n\n\n\n\n\n\nAction\nCommande\n\n\n\n\nFaire un commit\ngit commit -m \"message\"\n\n\nPousser les changements locaux vers le dépôt distant (branche master)\ngit push origin master\n\n\nRécupérer les changements sur le dépôt distant (branche master)\ngit pull origin master"
  },
  {
    "objectID": "slides/light.html#modes-dauthentification",
    "href": "slides/light.html#modes-dauthentification",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Modes d’authentification",
    "text": "Modes d’authentification\n\nhttps\n\nsimple à utiliser\nauthentification username + password (ou token) à chaque push\n… sauf si on configure Git de façon à garder en mémoire les identifiants\n\nssh\n\n(plus) complexe à initialiser mais authentification automatique\nseul type d’authentification possible sous AUS.\nVoir le site documentaire datascience de l’Insee sur le sujet et les fiches utilitR."
  },
  {
    "objectID": "slides/light.html#application-0",
    "href": "slides/light.html#application-0",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 0",
    "text": "Application 0\n\n\n\nPréparation de l’environnement de travail\n\n\n\nConnectez-vous à votre compte sur le Gitlab de l'Insee\nCréer un nouveau dépôt dans le groupe formation-git-conj/exos-individuels/. Exceptionnellement, vous pouvez utiliser votre prénom pour nommer votre dépôt.\nCloner le dépôt distant sur votre environnement local (ici, le RStudio de votre espace Z) :\n\nFile → New project → Version Control → Git\n\n\n\n\n\n💡 Si vous ne vous êtes jamais authentifié auprès du Gitlab de l’Insee ou n’avez jamais téléchargé Git vous aurez besoin, en amont, de configurer Git sur votre poste de travail : pour ce faire, suivre la fiche utilitR\n❓ Question : qu’est ce qui différencie le projet cloné d’un projet quelconque ?"
  },
  {
    "objectID": "slides/light.html#application-1",
    "href": "slides/light.html#application-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPremiers commits\n\n\n\nCréer un dossier 📁 scripts\nY créer les fichiers script1.R et script2.R, chacun contenant quelques commandes R de votre choix\nAjouter ces fichiers à la zone de staging de Git en les cochant dans l’interface RStudio\nEffectuer un commit, auquel on donnera un message descriptif pertinent\nSupprimer le fichier script1.R et modifier le contenu du fichier script2.R\nAnalyser ce qui se passe lorsque l’on coche ces fichiers dans l’interface RStudio\nEffectuer un nouveau commit pour ajouter ces modifications à l’historique\nVisualiser l’historique du projet à partir de l’interface graphique de RStudio\n\n\n\n\n❓ Question : à ce stade, le dépôt du projet sur GitHub (remote) a-t-il été modifié ?"
  },
  {
    "objectID": "slides/light.html#application-2",
    "href": "slides/light.html#application-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 2",
    "text": "Application 2\n\n\n\nInteractions avec le dépôt distant\n\n\n\nEffectuer un push pour intégrer les changements locaux au projet distant\nParcourir l’historique du projet sur GitLab\n\nFaire apparaître les différences entre deux versions consécutives du projet\nAfficher une version passée du projet"
  },
  {
    "objectID": "slides/light.html#bonnes-pratiques",
    "href": "slides/light.html#bonnes-pratiques",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Bonnes pratiques",
    "text": "Bonnes pratiques\nQue versionne-t-on ?\n\nEssentiellement du code source\nPas d’outputs (fichiers .html, .pdf, modèles…)\nPas de données, d’informations locales ou sensibles\n\n\n\n\n\n\n\nNote\n\n\nPour définir des règles qui évitent de committer tel ou tel fichier, on utilise un fichier nommé .gitignore.\nSi on mélange du code et des éléments annexes (output, données…) dans un même dossier, il faut consacrer du temps à ce fichier.\nLe site gitignore.io peut vous fournir des modèles.\nN’hésitez pas à y ajouter des règles conservatrices (par exemple *.csv), comme cela est expliqué dans la documentation utilitR."
  },
  {
    "objectID": "slides/light.html#bonnes-pratiques-1",
    "href": "slides/light.html#bonnes-pratiques-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Bonnes pratiques",
    "text": "Bonnes pratiques\nFormat des commits\n\n\n\n\nFréquence\n\nAussi souvent que possible, quasi autant que ctrl+S\nLe lot de modifications doit “avoir du sens”\n\nMessages\n\nCourts et informatifs (comme un titre de mail)\nDécrire le pourquoi plutôt que le comment dans le texte"
  },
  {
    "objectID": "slides/light.html#application-3",
    "href": "slides/light.html#application-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 3",
    "text": "Application 3\n\n\n\nLe fichier .gitignore\n\n\nAu moment du clonage du dépôt, le fichier .gitignore, est apparu à la racine du projet. Il spécifie l’ensemble des fichiers qui seront toujours exclus de l’indexation faite par Git.\n\nExclure les fichiers de type *.pdf et *.html\nCréer un dossier data à la racine du projet et créer à l’intérieur de celui-ci un fichier data/raw.csv avec une ligne de données quelconque\nAjouter au .gitignore le dossier data/\nVérifier que toutes les règles ajoutées précédemment fonctionnent comme attendu\n\n\n\n\n❓ Question : que se passe-t-il lorsque l’on ajoute au .gitignore des fichiers qui ont déjà été commit sur le projet Git ?"
  },
  {
    "objectID": "slides/light.html#outils-pour-le-travail-collaboratif",
    "href": "slides/light.html#outils-pour-le-travail-collaboratif",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Outils pour le travail collaboratif",
    "text": "Outils pour le travail collaboratif\n\nL’éco-système Git facilite le travail collaboratif\n\nGit  : modèle des branches\nGitHub  / GitLab  : Issues, Merge Requests, Forks\n\n\n\n\nCes outils ne remplacent pas une bonne définition de l’organisation du travail en équipe\n\nChoix d’un workflow (exemples : périmètre des “projets”, conventions de nommage des branches, etc.)\nDroits d’accès\nRègles de contribution"
  },
  {
    "objectID": "slides/light.html#application-4",
    "href": "slides/light.html#application-4",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 4",
    "text": "Application 4\n\n\n\nSynchronisation des dépôts\n\n\n\nSe mettre par groupes de 3/4 personnes:\n\nUne personne aura la responsabilité d’être mainteneur\nDeux à trois personnes seront développeurs\n\nLe mainteneur crée un dépôt sur Gitlab. Il/Elle donne des droits au(x) développeur(s) du projet\nCréer une copie locale (clone) du projet sur son Z\nCréer un fichier &lt;votre_nom&gt;-&lt;votre_prenom&gt;.md. Écrire dedans trois phrases de son choix sans ponctuation ni majuscules, puis commit et push les modifications\nÀ ce stade, une seule personne (la plus rapide) devrait ne pas avoir rencontré de rejet du push. C’est normal ! Le premier ayant fait un push a modifié le dépôt commun ; les autres doivent intégrer ces modifications dans leur version locale (pull) avant d’avoir le droit de proposer un changement."
  },
  {
    "objectID": "slides/light.html#divergence-dhistoriques-cas-simple",
    "href": "slides/light.html#divergence-dhistoriques-cas-simple",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Divergence d’historiques : cas simple",
    "text": "Divergence d’historiques : cas simple\n\n\n\nAvec un pull, Git résout le problème via un fast-forward merge\n\nGit crée un commit de merge de l’historique distant dans le local\nNota bene : rend l’historique non linéaire"
  },
  {
    "objectID": "slides/light.html#divergence-dhistoriques-cas-compliqué",
    "href": "slides/light.html#divergence-dhistoriques-cas-compliqué",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Divergence d’historiques : cas compliqué",
    "text": "Divergence d’historiques : cas compliqué\n\n\n\nGit ne peut pas résoudre de lui même la divergence\n\n\n\n\nL’utilisateur doit résoudre le conflit"
  },
  {
    "objectID": "slides/light.html#résoudre-les-conflits-linterface-rstudio",
    "href": "slides/light.html#résoudre-les-conflits-linterface-rstudio",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Résoudre les conflits : l’interface RStudio",
    "text": "Résoudre les conflits : l’interface RStudio\n\n\nChoisir la version à conserver\n\nSupprimer les “marquages” du conflit\n\nCommit et push les changements"
  },
  {
    "objectID": "slides/light.html#application-5",
    "href": "slides/light.html#application-5",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 5",
    "text": "Application 5\n\n\n\nRésoudre les conflits\n\n\n\nOn se place dans la même configuration que dans l’application précédente : un mainteneur et deux/trois développeurs\nLe mainteneur modifie le contenu de son fichier, puis commit et push les modifications\nSans faire de pull préalable, les développeurs modifient également le contenu du fichier du [mainteneur], puis commit et push les modifications\nLe push est rejeté pour la même raison que dans l’application précédente : les dépôts ne sont plus synchronisés, il faut pull les changements distants au préalable. Mais cette fois, le pull est également rejeté : il y a un conflit entre l’historique du projet distant et celui du projet local. Git nous indique qu’il faut résoudre le conflit avant de pouvoir modifier l’historique du projet.\nUtiliser l’interface de RStudio pour résoudre le conflit, en choisissant la version du fichier que vous souhaitez conserver, puis commit/push les modifications\nComme dans l’application précédente, seul le développeur le plus rapide parvient à push. Les autres doivent répéter l’opération.\n\n\n\n\n❓ Question : comment limiter au maximum la survenue des conflits d’historique ?"
  },
  {
    "objectID": "slides/light.html#le-modèle-des-branches",
    "href": "slides/light.html#le-modèle-des-branches",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Le modèle des branches",
    "text": "Le modèle des branches"
  },
  {
    "objectID": "slides/light.html#le-modèle-des-branches-1",
    "href": "slides/light.html#le-modèle-des-branches-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Le modèle des branches",
    "text": "Le modèle des branches"
  },
  {
    "objectID": "slides/light.html#application-6",
    "href": "slides/light.html#application-6",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 6",
    "text": "Application 6\n\n\n\nBranches, issues et merge requests\n\n\n\nSur GitLab, chaque personne ouvre une Issue sur le même dépôt que les applications précédentes, dans laquelle vous suggérez une modification à apporter à votre projet\nVia Rstudio, créer une branche dont le nom indique la modification que vous allez apporter. ➡️ utiliser l’icône violette dans l’onglet Git, sur la droite. ⚠️ : être attentif à la branche depuis laquelle vous créez votre nouvelle branche.\nVérifier que vous êtes bien positionné sur la nouvelle branche. Effectuer un commit avec les modifications de votre choix, puis pousser les changements.\nOuvrir une Merge Request (MR) pour proposer d’intégrer vos changements sur la branche principale du dépôt distant.\nChaque personne effectue finalement une review d’une MR d’un autre membre de l’équipe, suite à quoi les différentes MR peuvent être fusionnées\n\n\n\n\n❓ Question : quelle organisation pour merge dans la branche principale ?"
  },
  {
    "objectID": "slides/light.html#ressources-supplémentaires",
    "href": "slides/light.html#ressources-supplémentaires",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\nPour aller plus loin:\n\nFormation Travail collaboratif avec R\nLa documentation utilitR propose plusieurs chapitres sur Git\nLa Bible de l’usage de Git\n\n\n\n\nTrouver de l’aide:\n\nPour toute question : le salon Tchap Insee-Git-Gitlab (💡 utilisez Tchap via l’interface Element, dispo sur le centre logiciel !)\nA l’Insee : la documentation utilisateurs pour l’utilisation de Git sur AUS\nSollicitez vos collègues utilisateurs de Git !"
  },
  {
    "objectID": "slides/light.html#plan-de-la-partie-1",
    "href": "slides/light.html#plan-de-la-partie-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Plan de la partie",
    "text": "Plan de la partie\nAméliorations graduelles dans l’échelle de la reproductibilité :\n1️⃣ Qualité du code\n\n2️⃣ Structure des projets\n\n\n3️⃣ Formats de données"
  },
  {
    "objectID": "slides/light.html#application-0-1",
    "href": "slides/light.html#application-0-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 0",
    "text": "Application 0\n\n\n\nPréparation de l’environnement de travail\n\n\n\nCréer un nouveau dépôt public sur GitLab, dans le groupe de la formation, sous-groupe “exos-individuels”\nCloner le dépôt distant sur votre environnement local (ici, le RStudio de votre Z):\n\nFile → New project → Version Control → Git\n\nCréer un script get_data.R en copiant le contenu de ce fichier, puis l’exécuter\nCréer le script script.R dans votre dépôt en copiant le contenu de ce fichier\nAjouter la règle “individu_reg.*” au fichier .gitignore. Que signifie-t-elle ?\nCommit/push les changements"
  },
  {
    "objectID": "slides/light.html#enjeux",
    "href": "slides/light.html#enjeux",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Enjeux",
    "text": "Enjeux\n\nD’une vision utilitariste du code à une vision du code comme outil de communication\n\n\n\nFavoriser la lisibilité et la maintenabilité\n\n\n\n\nFaciliter la réutilisation\n\n\n\n\nAssurer la transparence méthodologique"
  },
  {
    "objectID": "slides/light.html#principes-généraux",
    "href": "slides/light.html#principes-généraux",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Principes généraux",
    "text": "Principes généraux\n\nAdopter les standards communautaires\n\n\n\nUtiliser des fonctions\n\n\n\n\nDocumenter son code\n\n\n\n\nIndiquer les packages utilisés afin d’éviter les conflits"
  },
  {
    "objectID": "slides/light.html#adopter-les-standards-communautaires",
    "href": "slides/light.html#adopter-les-standards-communautaires",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Adopter les standards communautaires",
    "text": "1️⃣ Adopter les standards communautaires\n\n“Good coding style is like correct punctuation: you can manage without it, butitsuremakesthingseasiertoread”\nTidyverse Style Guide\n\n\n\nRespecter les conventions du langage dans lequel il est rédigé\n\n\n\n\nIl existe un guide de référence pour bien coder en R : le Tidyverse style guide."
  },
  {
    "objectID": "slides/light.html#adopter-les-standards-communautaires-1",
    "href": "slides/light.html#adopter-les-standards-communautaires-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Adopter les standards communautaires",
    "text": "1️⃣ Adopter les standards communautaires\nDeux outils pratiques aident à respecter les standards :\n\nlinter : programme qui vérifie que le code est formellement conforme à un certain guidestyle\n\nsignale problèmes formels, sans corriger\n\n\n\n\nformatter : programme qui reformate un code pour le rendre conforme à un certain guidestyle\n\nmodifie directement le code\n\n\n\n\n\n\n\n\n\n\nAstuce\n\n\n\nExemples d’erreurs repérées par un linter :\n\nlignes de code trop longues ou mal indentées, parenthèses non équilibrées, noms de fonctions mal construits…\n\nExemples d’erreurs non repérées par un linter :\n\nfonctions mal utilisées, arguments mal spécifiés, structure du code incohérente, code insuffisamment documenté…"
  },
  {
    "objectID": "slides/light.html#adopter-les-standards-communautaires-2",
    "href": "slides/light.html#adopter-les-standards-communautaires-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Adopter les standards communautaires",
    "text": "1️⃣ Adopter les standards communautaires\n\nDans le cas de  :\n\nle linter à utiliser est le package lintr\nle formatter à utiliser est le package styler.\n\nExiste également le package formatR."
  },
  {
    "objectID": "slides/light.html#utiliser-des-fonctions",
    "href": "slides/light.html#utiliser-des-fonctions",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\n\n\n\n\n\n\nRègle d’or\n\n\nIl faut utiliser une fonction dès qu’on utilise une même portion de code plus de deux fois (don’t repeat yourself (DRY))\n\n\n\n\nLimite les risques d’erreurs liés aux copier/coller\nRend le code plus lisible et plus compact\nUn seul endroit du code à modifier lorsqu’on souhaite modifier le traitement\nFacilite la réutilisation et la documentation du code !\n\n\n\n\n\n\n\n\nRègles pour écrire des fonctions pertinentes\n\n\n\nUne tâche = une fonction\nUne tâche complexe = un enchaînement de fonctions réalisant chacune une tâche simple\nLimiter l’utilisation de variables globales."
  },
  {
    "objectID": "slides/light.html#utiliser-des-fonctions-1",
    "href": "slides/light.html#utiliser-des-fonctions-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\nÀ ne pas reproduire chez vous. La fonction doit mobiliser ses paramètres et, théoriquement, rien d’autre."
  },
  {
    "objectID": "slides/light.html#utiliser-des-fonctions-2",
    "href": "slides/light.html#utiliser-des-fonctions-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\nÀ ne pas reproduire chez vous"
  },
  {
    "objectID": "slides/light.html#utiliser-des-fonctions-3",
    "href": "slides/light.html#utiliser-des-fonctions-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\nÀ ne pas reproduire chez vous"
  },
  {
    "objectID": "slides/light.html#utiliser-des-fonctions-4",
    "href": "slides/light.html#utiliser-des-fonctions-4",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\nÀ ne pas reproduire chez vous"
  },
  {
    "objectID": "slides/light.html#documenter-son-code",
    "href": "slides/light.html#documenter-son-code",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Documenter son code",
    "text": "3️⃣ Documenter son code\n\nGrands principes :\n\nDocumenter le pourquoi plutôt que le comment\nPrivilégier l’auto-documentation via des nommages pertinents.\n\n\n\n\n\n\n\n\n\nComment bien documenter un script ?\n\n\n\nMinimum 🚦 : commentaire au début du script pour décrire ce qu’il fait\nBien 👍 : commenter les parties “délicates” du code\nIdéal 💪 : documenter ses fonctions avec la syntaxe roxygen2."
  },
  {
    "objectID": "slides/light.html#documenter-son-code-1",
    "href": "slides/light.html#documenter-son-code-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Documenter son code",
    "text": "3️⃣ Documenter son code\n\n\n\n\n\n\nUtiliser aussi “l’auto-documentation” pour les noms de répertoire !\n\n\n❎ pas de répertoires avec votre prénom, votre nom ou vos initiales.\n\n\n\n…au risque de se retrouver avec ça :  Taille totale : 7 Go"
  },
  {
    "objectID": "slides/light.html#pas-dambiguïté-sur-les-packages-utilisés",
    "href": "slides/light.html#pas-dambiguïté-sur-les-packages-utilisés",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Pas d’ambiguïté sur les packages utilisés",
    "text": "4️⃣ Pas d’ambiguïté sur les packages utilisés\n\nDeux fonctions peuvent avoir le même nom dans des packages différents\n\n\n\nR utilise par défaut la librairie chargée le plus récemment\n\n\n\n\nErreurs difficiles à repérer car il est nécessaire d’exécuter le code\n\n\n\n\nRecommandation : indiquer explicitement le package : notation package::fonction()\n\nExemple : dplyr::filter()\n\n\n\n\n\n\n\n\nExemple\n\n\n\npackage1 et package2 contiennent chacun une fonction appelée superFonction.\nSi package2 est chargé après package1, alors superFonction désigne par défaut la fonction de package2.\nMieux vaut noter package1::superFonction et package2::superFonction"
  },
  {
    "objectID": "slides/light.html#pas-dambiguïté-sur-les-packages-utilisés-1",
    "href": "slides/light.html#pas-dambiguïté-sur-les-packages-utilisés-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Pas d’ambiguïté sur les packages utilisés",
    "text": "4️⃣ Pas d’ambiguïté sur les packages utilisés\n\n\n\n\n\n\nSpécial conj\n\n\nDès que vos codes font appels à des fonctions des packages “maison” tels que pRev ou RConj : ajoutez le nom du package devant la fonction. Lors des montées de version des packages, vous retrouverez facilement les endroits dans vos codes qui peuvent être affectés.\n\n\n\n\n\n\n\n\n\nAstuce RStudio\n\n\nCtrl+Maj+F : permet de chercher un terme dans l’ensemble des scripts d’un répertoire.\n➡️ pour retrouver facilement les appels à un package donné."
  },
  {
    "objectID": "slides/light.html#ressources-supplémentaires-1",
    "href": "slides/light.html#ressources-supplémentaires-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\n\nUn cours complet sur la reproductibilité avec R\nUne présentation très complète sur le partage de code et de données avec R\nL’équivalent Python en 3A d’ENSAE"
  },
  {
    "objectID": "slides/light.html#application-1-1",
    "href": "slides/light.html#application-1-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 1 : vérification du bon fonctionnement du code\n\n\nUn code reproductible est avant toute chose un code fonctionnel ! Repérez les erreurs qui empêchent le script script.R de s’exécuter correctement, et les corriger."
  },
  {
    "objectID": "slides/light.html#application-1-2",
    "href": "slides/light.html#application-1-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 2 : premiers standards de qualité\n\n\n\nInstaller les packages R lintr et styler.\nDéfinir le linter à utiliser comme étant de type tidyverse : lintr::use_lintr(type = \"tidyverse\")\nDiagnostiquer le script script.R : lintr::lint(\"script.R\").\n\nComprenez-vous la nature des problèmes détectés par le linter?\n\nAppliquer le formatter au script.R : styler::style_file(\"script.R\").\nRefaire tourner le linter. Il reste encore un certain nombre d’erreurs de formattage, car styler est un formatter peu intrusif.\nRegarder les différents problèmes repérés par le linter, et en corriger quelques uns (un pour chaque type de problème)."
  },
  {
    "objectID": "slides/light.html#application-1-3",
    "href": "slides/light.html#application-1-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 3 : une meilleure gestion des packages utilisés\n\n\n\nLimiter les ambiguités sur les packages en utilisant la syntaxe package::fonction pour les packages rarement utilisés dans le script.\nL’installation des packages dans un script n’est pas une bonne pratique. Supprimer les instructions correspondantes.\nImporter le tidyverse au complet est rarement utile. N’importer à la place que les packages effectivement utilisés dans le script."
  },
  {
    "objectID": "slides/light.html#application-1-4",
    "href": "slides/light.html#application-1-4",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 4 : (auto-)documentation du code\n\n\n\nDéplacer les library pour les mettre tous ensemble au début du script.\nLe script n’est pas construit dans un ordre logique. Déplacer les parties pour adopter une structure plus logique :\n\nGestion de l’environnement -&gt; Définition de fonctions -&gt; Import des données -&gt; Retraitement des données -&gt; Statistiques descriptives -&gt; Graphiques -&gt; Modélisation\n\nDonner des titres aux parties/sous-parties en utilisant les standards de documentation reconnus par RStudio :\n\n# TITRE NIVEAU 1 ------------ et ## TITRE NIVEAU 2 =========="
  },
  {
    "objectID": "slides/light.html#application-1-5",
    "href": "slides/light.html#application-1-5",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 5 : une meilleure gestion des secrets\n\n\n\n\nRepérer le jeton d’API dans le code. Retirer le jeton d’API du code et créer à la racine du projet un fichier YAML nommé secrets.yaml où vous écrivez ce secret sous la forme key: value. ⚠️ Attention : le package yaml impose la création d’une ligne vierge à la fin du fichier pour être valide.\nDans script.R, importer ce YAML (avec yaml::read_yaml(\"secrets.yaml\")) pour créer une variable api_token ayant cette valeur.\nAjouter dans .gitignore le fichier secrets.yaml et indiquer dans le README.md de votre projet que les secrets sont stockés dans ce fichier. ⚠️ Attention : il ne faut pas committer secrets.yaml car le jeton d’API est personnel et secret!"
  },
  {
    "objectID": "slides/light.html#checkpoint",
    "href": "slides/light.html#checkpoint",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Checkpoint",
    "text": "Checkpoint\n\n\n\n\nscript.R"
  },
  {
    "objectID": "slides/light.html#bilan",
    "href": "slides/light.html#bilan",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Bilan",
    "text": "Bilan\n\nUn code mal structuré\n\nLimite la lisibilité du projet\nEst très coûteux à maintenir (dette technique)"
  },
  {
    "objectID": "slides/light.html#enjeux-1",
    "href": "slides/light.html#enjeux-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Enjeux",
    "text": "Enjeux\n\nFavoriser la lisibilité et la maintenabilité\n\n\n2 Construire des projets reproductibles"
  },
  {
    "objectID": "slides/light.html#a-ne-pas-reproduire-chez-vous",
    "href": "slides/light.html#a-ne-pas-reproduire-chez-vous",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "⚠️ A ne pas reproduire chez vous",
    "text": "⚠️ A ne pas reproduire chez vous\n\n├── report.Rmd\n├── correlation.png\n├── data.csv\n├── data2.csv\n├── fig1.png\n├── figure 2 (copy).png\n├── report.pdf\n├── partial data.csv\n├── script.R\n└── script_final.R\nSource : eliocamp.github.io"
  },
  {
    "objectID": "slides/light.html#principes-généraux-1",
    "href": "slides/light.html#principes-généraux-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Principes généraux",
    "text": "Principes généraux\n\nUtiliser les projets RStudio\n\n\n\nOrganiser son projet en sous-dossiers\n\n\n\n\nDonner des noms pertinents aux fichiers\n\n\n\n\nDocumenter son projet\n\n\n\n\n(Faire de son projet un package)"
  },
  {
    "objectID": "slides/light.html#utiliser-les-projets-rstudio",
    "href": "slides/light.html#utiliser-les-projets-rstudio",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Utiliser les projets RStudio",
    "text": "1️⃣ Utiliser les projets RStudio\n\nObjectif : favoriser la reproductibilité\n\nTous les fichiers nécessaires au projet dans un même dossier\nLe dossier contenant le projet RStudio est automatiquement utilisé comme working directory\nUtilisation de chemins relatifs plutôt qu’absolus.\n\n\n\n\nBonus : en utilisant Git, on s’assure de toujours travailler dans un projet RStudio !"
  },
  {
    "objectID": "slides/light.html#organiser-son-projet-en-sous-dossiers",
    "href": "slides/light.html#organiser-son-projet-en-sous-dossiers",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Organiser son projet en sous-dossiers",
    "text": "2️⃣ Organiser son projet en sous-dossiers\n\nObjectif : adopter une structure arbitraire, mais lisible et cohérente\n\n├── data\n│   ├── raw\n│   │   ├── data.csv\n│   │   └── data2.csv\n│   └── derived\n│       └── partial data.csv\n├── R\n|   ├── script.R\n│   ├── script_final.R\n│   └── report.Rmd\n└── output\n    ├── fig1.png\n    ├── figure 2 (copy).png\n    ├── figure10.png\n    ├── correlation.png\n    └── report.pdf"
  },
  {
    "objectID": "slides/light.html#donner-des-noms-pertinents-aux-fichiers",
    "href": "slides/light.html#donner-des-noms-pertinents-aux-fichiers",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Donner des noms pertinents aux fichiers",
    "text": "3️⃣ Donner des noms pertinents aux fichiers\n\nObjectif : auto-documenter son projet\n\n├── data\n│   ├── raw\n│   │   ├── dpe_logement_202103.csv\n│   │   └── dpe_logement_202003.csv\n│   └── derived\n│       └── dpe_logement_merged_preprocessed.csv\n├── R\n|   ├── preprocessing.R\n│   ├── generate_plots.R\n│   └── report.Rmd\n└── output\n    ├── histogram_energy_diagnostic.png\n    ├── barplot_consumption_pcs.png\n    ├── correlation_matrix.png\n    └── report.pdf"
  },
  {
    "objectID": "slides/light.html#documenter-son-projet",
    "href": "slides/light.html#documenter-son-projet",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Documenter son projet",
    "text": "4️⃣ Documenter son projet\n\nLe fichier README.md, situé à la racine du projet, est à la fois la carte d’identité et la vitrine du projet\n\n\nIdéalement, il contient :\n\nUne présentation du contexte et des objectifs\nUne description de son fonctionnement\nUn guide de contribution (open-source)\n\n\n\n\nQuelques modèles de README.md complets :\n\nutilitR\nDoReMIFaSol"
  },
  {
    "objectID": "slides/light.html#ressources-supplémentaires-2",
    "href": "slides/light.html#ressources-supplémentaires-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\n\nLa documentation utilitR sur les projets RStudio et les packages R \nUn excellent workshop sur la reproductibilité avec R"
  },
  {
    "objectID": "slides/light.html#expérience-de-pensée",
    "href": "slides/light.html#expérience-de-pensée",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Expérience de pensée",
    "text": "Expérience de pensée\n\nImaginons la situation suivante :\n\nJ’installe une version de R sur mon poste\nJe développe un projet en installant les packages nécessaires\nUne fois terminé, je passe au projet suivant, et ainsi de suite.\n\nQuels problèmes puis-je rencontrer au fil des projets ?\nEst-il facile de partager un de mes projets ?"
  },
  {
    "objectID": "slides/light.html#enjeux-2",
    "href": "slides/light.html#enjeux-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Enjeux",
    "text": "Enjeux\n\nVersion de R fixe, celle de l’installation système\n\n\n\nConflits de version : différents projets peuvent requérir différentes versions d’un même package.\n\n\n\n\nReproductibilité limitée : difficile de dire quel projet nécessite quel package.\n\n\n\n\nPortabilité limitée : difficile de préciser dans un fichier les dépendances spécifiques à un projet."
  },
  {
    "objectID": "slides/light.html#des-environnements-reproductibles-avec-renv",
    "href": "slides/light.html#des-environnements-reproductibles-avec-renv",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Des environnements reproductibles avec renv",
    "text": "Des environnements reproductibles avec renv\n\nrenv permet de créer des environnements reproductibles\n\n\n\nIsolation : chaque projet dispose de sa propre librairie de packages\n\n\n\n\nReproductibilité : renv enregistre les versions exactes des packages nécessaires au projet\n\n\n\n\nPortabilité: un tiers peut exécuter le projet avec les mêmes spécifications"
  },
  {
    "objectID": "slides/light.html#utilisation-de-renv",
    "href": "slides/light.html#utilisation-de-renv",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Utilisation de renv",
    "text": "Utilisation de renv\n\nInitialisation (init) de l’environnement local du projet\n\n\n\nDéveloppement du projet\n\n\n\n\nEnregistrement (snapshot) des versions des packages installés\n\n\n\n\nRestauration (restore) d’un environnement"
  },
  {
    "objectID": "slides/light.html#initialisation-de-lenvironnement",
    "href": "slides/light.html#initialisation-de-lenvironnement",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Initialisation de l’environnement",
    "text": "1️⃣ Initialisation de l’environnement\n\nrenv::init() dans un projet RStudio crée :\n\nUn dossier renv et le fichier .Rprofile : activation automatique de l’environnement\nLe fichier renv.lock : versions des packages installés"
  },
  {
    "objectID": "slides/light.html#développement-du-projet",
    "href": "slides/light.html#développement-du-projet",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Développement du projet",
    "text": "2️⃣ Développement du projet\n\nUne fois l’environnement initialisé, on développe le projet de manière habituelle :\n\nInstallations/suppressions/mises à jour de packages\nEcriture de scripts\n\n\n\n\nrenv::status() : indique les packages installés/supprimés par rapport au fichier renv.lock"
  },
  {
    "objectID": "slides/light.html#enregistrement-de-lenvironnement",
    "href": "slides/light.html#enregistrement-de-lenvironnement",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Enregistrement de l’environnement",
    "text": "3️⃣ Enregistrement de l’environnement\n\nrenv::snapshot() : enregistre les versions des packages installés dans le fichier renv.lock\nNe pas oublier de committer le fichier renv.lock!"
  },
  {
    "objectID": "slides/light.html#restauration-de-lenvironnement",
    "href": "slides/light.html#restauration-de-lenvironnement",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Restauration de l’environnement",
    "text": "4️⃣ Restauration de l’environnement\n\nrenv::restore() : installe/désinstalle les packages nécessaires pour arriver à l’état spécifié dans le fichier renv.lock\n\n\n\nPortabilité : un tiers peut recréer un environnement avec les mêmes spécifications"
  },
  {
    "objectID": "slides/light.html#application-4-1",
    "href": "slides/light.html#application-4-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 4",
    "text": "Application 4\n\n\n\nPartie 1 : prise en main de la librairie renv\n\n\n\nInstaller le package renv\nTaper dans la console renv::init(), lire le message et accepter.\nObserver les nouveaux élements qui sont apparus dans le projet.\nInstaller le package gt et observer le message dans la console.\nDans la partie sur les statistiques descriptives d’âge, ajouter ce code :\nstats_age &lt;- df %&gt;%\n  group_by(decennie = decennie_a_partir_annee(age)) %&gt;%\n  summarise(n())\n\ntable_age &lt;- gt::gt(stats_age) %&gt;%\n  gt::tab_header(\n    title = \"Distribution des âges dans notre population\"\n  ) %&gt;%\n  gt::fmt_number(\n    columns = `n()`,\n    sep_mark = \" \",\n    decimals = 0\n  ) %&gt;%\n  gt::cols_label(\n    decennie = \"Tranche d'âge\",\n    `n()` = \"Population\"\n  )"
  },
  {
    "objectID": "slides/light.html#application-4-2",
    "href": "slides/light.html#application-4-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 4",
    "text": "Application 4\n\n\n\nPartie 2 : faire un snapshot de l’environnement\n\n\n\n\nDans la console, faire renv::status() et observer le message.\nEffectuer renv::snapshot() pour intégrer les nouveaux packages au lockfile\nFaire un commit / push des fichiers script.R, .Rprofile, renv.lock et du dossier renv/."
  },
  {
    "objectID": "slides/light.html#ressources-supplémentaires-3",
    "href": "slides/light.html#ressources-supplémentaires-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\nPour aller plus loin:\n\nLa documentation utilitR\nUn cours complet sur la reproductibilité avec R\nCours Reproductibilité et bonnes pratiques pour les projets de data science de l’ENSAE\n\n\n\n\nTrouver de l’aide:\n\nPour toute question : le salon Slack grrr, très dynamique\nLe salon Tchap Langage R\nPour l’utilisation de R à l’Insee : le salon Tchap Insee - Outils Stats v2"
  },
  {
    "objectID": "slides/complete.html#introduction",
    "href": "slides/complete.html#introduction",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Introduction",
    "text": "Introduction\n\nVersion longue de la formation aux bonnes pratiques avec R et Git\n\n\nRetour à la page d’accueil pour explorer les autres versions"
  },
  {
    "objectID": "slides/complete.html#la-notion-de-bonnes-pratiques",
    "href": "slides/complete.html#la-notion-de-bonnes-pratiques",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "La notion de bonnes pratiques",
    "text": "La notion de bonnes pratiques\n\nOrigine : communauté des développeurs logiciels\n\n\nConstats :\n\nle “code est plus souvent lu qu’écrit” (Guido Van Rossum)\nla maintenance d’un code est très coûteuse\n\n\n\n\nConséquence : un ensemble de règles informelles, conventionnellement acceptées comme produisant des logiciels fiables, évolutifs et maintenables"
  },
  {
    "objectID": "slides/complete.html#pourquoi-sintéresser-aux-bonnes-pratiques",
    "href": "slides/complete.html#pourquoi-sintéresser-aux-bonnes-pratiques",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Pourquoi s’intéresser aux bonnes pratiques ?",
    "text": "Pourquoi s’intéresser aux bonnes pratiques ?\n\nL’activité du statisticien / datascientist tend à se rapprocher de celle du développeur :\n\n\nprojets intenses en code\n\n\n\n\nprojets collaboratifs et de grande envergure\n\n\n\n\ncomplexification des données et donc des infrastructures\n\n\n\n\ndéploiement d’applications pour valoriser les analyses"
  },
  {
    "objectID": "slides/complete.html#bonnes-pratiques-et-reproductibilité",
    "href": "slides/complete.html#bonnes-pratiques-et-reproductibilité",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Bonnes pratiques et reproductibilité",
    "text": "Bonnes pratiques et reproductibilité\n\n\n\n\n\nSource : Peng R., Reproducible Research in Computational Science, Science (2011)\n\n\nUne reproductibilité parfaite est coûteuse\n\n\n\n\nGit est un standard atteignable et efficient"
  },
  {
    "objectID": "slides/complete.html#plan-de-la-partie",
    "href": "slides/complete.html#plan-de-la-partie",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Plan de la partie",
    "text": "Plan de la partie\n1️⃣ Le contrôle de version : pourquoi faire ?\n\n2️⃣ Le contrôle de version avec Git\n\n\n3️⃣ Le travail collaboratif avec Git"
  },
  {
    "objectID": "slides/complete.html#archiver-son-code-proprement",
    "href": "slides/complete.html#archiver-son-code-proprement",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Archiver son code proprement",
    "text": "1️⃣ Archiver son code proprement\npour en finir avec ça :"
  },
  {
    "objectID": "slides/complete.html#archiver-son-code-proprement-1",
    "href": "slides/complete.html#archiver-son-code-proprement-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Archiver son code proprement",
    "text": "1️⃣ Archiver son code proprement\nou encore ça :\nprior &lt;- read_csv(prior_path)\nprior &lt;- prior %&gt;%\n    select(id, proba_inter, proba_build, proba_rfl) %&gt;%\n    separate(id, into = c('nidt', 'grid_id'), sep = \":\") %&gt;%\n    group_by(nidt) %&gt;%\n    mutate(\n        proba_build = proba_build/sum(proba_build),\n        proba_rfl = proba_rfl/sum(proba_rfl),\n        ) %&gt;%\n    unite(col = \"id\", nidt, grid_id, sep = \":\")\n\n# Test\n# prior_test &lt;- prior %&gt;%\n#    mutate(\n#        proba_inter = round(proba_inter, 4)\n#        proba_build = round(proba_build, 4)\n#        proba_rfl = round(proba_rfl, 4)\n#    )\n\nwrite_csv(prior_round, \"~/prior.csv\")"
  },
  {
    "objectID": "slides/complete.html#archiver-son-code-proprement-2",
    "href": "slides/complete.html#archiver-son-code-proprement-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Archiver son code proprement",
    "text": "1️⃣ Archiver son code proprement\nPour arriver à ça :\n\n\n\n\n\nSource : ThinkR"
  },
  {
    "objectID": "slides/complete.html#voyager-dans-le-temps-de-votre-projet",
    "href": "slides/complete.html#voyager-dans-le-temps-de-votre-projet",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Voyager dans le temps (de votre projet)",
    "text": "2️⃣ Voyager dans le temps (de votre projet)"
  },
  {
    "objectID": "slides/complete.html#une-collaboration-simplifiée-et-efficace",
    "href": "slides/complete.html#une-collaboration-simplifiée-et-efficace",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Une collaboration simplifiée et efficace",
    "text": "3️⃣ Une collaboration simplifiée et efficace\nUn modèle distribué\n\n\n\n\n\nSource : specbee.com"
  },
  {
    "objectID": "slides/complete.html#une-collaboration-simplifiée-et-efficace-1",
    "href": "slides/complete.html#une-collaboration-simplifiée-et-efficace-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Une collaboration simplifiée et efficace",
    "text": "3️⃣ Une collaboration simplifiée et efficace\nQui permet l’expérimentation en toute sécurité - les branches :\n\nSource : lutece.paris.fr"
  },
  {
    "objectID": "slides/complete.html#une-collaboration-simplifiée-et-efficace-2",
    "href": "slides/complete.html#une-collaboration-simplifiée-et-efficace-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Une collaboration simplifiée et efficace",
    "text": "3️⃣ Une collaboration simplifiée et efficace\nQuel que soit l’environnement de travail"
  },
  {
    "objectID": "slides/complete.html#une-collaboration-simplifiée-et-efficace-3",
    "href": "slides/complete.html#une-collaboration-simplifiée-et-efficace-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Une collaboration simplifiée et efficace",
    "text": "3️⃣ Une collaboration simplifiée et efficace\nAvec des outils pour faciliter la collaboration"
  },
  {
    "objectID": "slides/complete.html#partager-son-code-à-un-public-large",
    "href": "slides/complete.html#partager-son-code-à-un-public-large",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Partager son code à un public large",
    "text": "4️⃣ Partager son code à un public large\nUne vitrine pour les projets et l’organisation : exemple de l’espace de l’Insee sur GitHub"
  },
  {
    "objectID": "slides/complete.html#en-résumé",
    "href": "slides/complete.html#en-résumé",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "En résumé",
    "text": "En résumé\n\nConstruire et naviguer à travers l’historique de son projet\n\n\n\nLa collaboration rendue simple et efficace\n\n\n\n\nAméliorer la reproductibilité de ses projets\n\n\n\n\nAméliorer la visibilité de ses projets"
  },
  {
    "objectID": "slides/complete.html#git-est-complexe",
    "href": "slides/complete.html#git-est-complexe",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "⚠️ Git est complexe",
    "text": "⚠️ Git est complexe\nL’utilisation de Git nécessite certaines notions préalables:\n\nFonctionnement d’un filesystem et Connaissance basique du terminal Linux\nPotentiellement, un grand nombre de commandes\n\n\n\n\nSource : Ici"
  },
  {
    "objectID": "slides/complete.html#git-est-complexe-1",
    "href": "slides/complete.html#git-est-complexe-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "⚠️ Git est complexe",
    "text": "⚠️ Git est complexe\nMais\n\nL’usage quotidien n’implique que quelques commandes\nLors de chaque action, Git renvoie un message qui indique s’il y a eu problème (il faut lire les messages de Git!)\nEnormément de ressources disponibles sur internet\nDes interfaces visuelles (ex: RStudio, Sublime Merge, VS Code) qui facilitent l’apprentissage\nUn petit investissement individuel pour de gros gains collectifs"
  },
  {
    "objectID": "slides/complete.html#concepts",
    "href": "slides/complete.html#concepts",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Concepts",
    "text": "Concepts\nGit, GitHub, GitLab… quelles différences ?\n\nGit est un logiciel ;\nPensé initialement pour une utilisation en ligne de commandes\nDifférentes interfaces graphiques (RStudio, Sublime Merge, VS Code…)"
  },
  {
    "objectID": "slides/complete.html#concepts-1",
    "href": "slides/complete.html#concepts-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Concepts",
    "text": "Concepts\nGit, GitHub, GitLab… quelles différences ?\n\nGitHub et GitLab sont des forges logicielles\nForge: espace d’archivage de code\nDes fonctionalités supplémentaires : réseau social du code\n\n\n\n\n\n\n\nAstuce\n\n\n\nGitHub : utilisation pour les projets open-source\nGitLab : utilisation pour les projets internes"
  },
  {
    "objectID": "slides/complete.html#concepts-2",
    "href": "slides/complete.html#concepts-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Concepts",
    "text": "Concepts\nDépôt local / dépôt distant (remote)\n\n\n\n\n\n\nPar défaut, le dépôt distant porte l’alias origin"
  },
  {
    "objectID": "slides/complete.html#concepts-3",
    "href": "slides/complete.html#concepts-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Concepts",
    "text": "Concepts\nWorkflow complet\n\n\n\nSource : itnext.io\n\n\nCommentaires “maison”"
  },
  {
    "objectID": "slides/complete.html#commandes-essentielles",
    "href": "slides/complete.html#commandes-essentielles",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Commandes essentielles",
    "text": "Commandes essentielles\nQuelques exemples en ligne de commande\n\n\n\n\nAction\nCommande\n\n\n\n\nCloner un projet\ngit clone [url-to-git-repo]\n\n\nAfficher le statut des changements pour Git\ngit status\n\n\nRetrouver l’URL du dépôt distant\ngit remote -v"
  },
  {
    "objectID": "slides/complete.html#commandes-essentielles-1",
    "href": "slides/complete.html#commandes-essentielles-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Commandes essentielles",
    "text": "Commandes essentielles\n\n\n\n\n\n\n\n\nAction\nCommande\n\n\n\n\nAjouter des changements à l’index de Git (stage fixes)\nUn seul fichier : git add &lt;file-name&gt;  Tous les fichiers déjà indexés : git add -u  Tous les fichiers ⚠️ : git add -A\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\nLa méthode git add -A peut amener à suivre les modifications de fichiers qui ne devraient pas l’être (par exemple, des données).\nIl est recommandé de bien réfléchir avant de l’utiliser (ou d’avoir un bon .gitignore)"
  },
  {
    "objectID": "slides/complete.html#commandes-essentielles-2",
    "href": "slides/complete.html#commandes-essentielles-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Commandes essentielles",
    "text": "Commandes essentielles\n\n\n\n\n\n\n\n\nAction\nCommande\n\n\n\n\nFaire un commit\ngit commit -m \"message\"\n\n\nPousser les changements locaux vers le dépôt distant (branche master)\ngit push origin master\n\n\nRécupérer les changements sur le dépôt distant (branche master)\ngit pull origin master"
  },
  {
    "objectID": "slides/complete.html#modes-dauthentification",
    "href": "slides/complete.html#modes-dauthentification",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Modes d’authentification",
    "text": "Modes d’authentification\n\nhttps\n\nsimple à utiliser\nauthentification username + password (ou token) à chaque push\n… sauf si on configure Git de façon à garder en mémoire les identifiants\n\nssh\n\n(plus) complexe à initialiser mais authentification automatique\nseul type d’authentification possible sous AUS.\nVoir le site documentaire datascience de l’Insee sur le sujet et les fiches utilitR."
  },
  {
    "objectID": "slides/complete.html#application-0",
    "href": "slides/complete.html#application-0",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 0",
    "text": "Application 0\n\n\n\nPréparation de l’environnement de travail\n\n\n\nConnectez-vous à votre compte sur le Gitlab de l'Insee\nCréer un nouveau dépôt dans le groupe formation-git-conj/exos-individuels/. Exceptionnellement, vous pouvez utiliser votre prénom pour nommer votre dépôt.\nCloner le dépôt distant sur votre environnement local (ici, le RStudio de votre espace Z) :\n\nFile → New project → Version Control → Git\n\n\n\n\n\n💡 Si vous ne vous êtes jamais authentifié auprès du Gitlab de l’Insee ou n’avez jamais téléchargé Git vous aurez besoin, en amont, de configurer Git sur votre poste de travail : pour ce faire, suivre la fiche utilitR\n❓ Question : qu’est ce qui différencie le projet cloné d’un projet quelconque ?"
  },
  {
    "objectID": "slides/complete.html#application-1",
    "href": "slides/complete.html#application-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPremiers commits\n\n\n\nCréer un dossier 📁 scripts\nY créer les fichiers script1.R et script2.R, chacun contenant quelques commandes R de votre choix\nAjouter ces fichiers à la zone de staging de Git en les cochant dans l’interface RStudio\nEffectuer un commit, auquel on donnera un message descriptif pertinent\nSupprimer le fichier script1.R et modifier le contenu du fichier script2.R\nAnalyser ce qui se passe lorsque l’on coche ces fichiers dans l’interface RStudio\nEffectuer un nouveau commit pour ajouter ces modifications à l’historique\nVisualiser l’historique du projet à partir de l’interface graphique de RStudio\n\n\n\n\n❓ Question : à ce stade, le dépôt du projet sur GitHub (remote) a-t-il été modifié ?"
  },
  {
    "objectID": "slides/complete.html#application-2",
    "href": "slides/complete.html#application-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 2",
    "text": "Application 2\n\n\n\nInteractions avec le dépôt distant\n\n\n\nEffectuer un push pour intégrer les changements locaux au projet distant\nParcourir l’historique du projet sur GitLab\n\nFaire apparaître les différences entre deux versions consécutives du projet\nAfficher une version passée du projet"
  },
  {
    "objectID": "slides/complete.html#bonnes-pratiques",
    "href": "slides/complete.html#bonnes-pratiques",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Bonnes pratiques",
    "text": "Bonnes pratiques\nQue versionne-t-on ?\n\nEssentiellement du code source\nPas d’outputs (fichiers .html, .pdf, modèles…)\nPas de données, d’informations locales ou sensibles\n\n\n\n\n\n\n\nNote\n\n\nPour définir des règles qui évitent de committer tel ou tel fichier, on utilise un fichier nommé .gitignore.\nSi on mélange du code et des éléments annexes (output, données…) dans un même dossier, il faut consacrer du temps à ce fichier.\nLe site gitignore.io peut vous fournir des modèles.\nN’hésitez pas à y ajouter des règles conservatrices (par exemple *.csv), comme cela est expliqué dans la documentation utilitR."
  },
  {
    "objectID": "slides/complete.html#bonnes-pratiques-1",
    "href": "slides/complete.html#bonnes-pratiques-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Bonnes pratiques",
    "text": "Bonnes pratiques\nFormat des commits\n\n\n\n\nFréquence\n\nAussi souvent que possible, quasi autant que ctrl+S\nLe lot de modifications doit “avoir du sens”\n\nMessages\n\nCourts et informatifs (comme un titre de mail)\nDécrire le pourquoi plutôt que le comment dans le texte"
  },
  {
    "objectID": "slides/complete.html#application-3",
    "href": "slides/complete.html#application-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 3",
    "text": "Application 3\n\n\n\nLe fichier .gitignore\n\n\nAu moment du clonage du dépôt, le fichier .gitignore, est apparu à la racine du projet. Il spécifie l’ensemble des fichiers qui seront toujours exclus de l’indexation faite par Git.\n\nExclure les fichiers de type *.pdf et *.html\nCréer un dossier data à la racine du projet et créer à l’intérieur de celui-ci un fichier data/raw.csv avec une ligne de données quelconque\nAjouter au .gitignore le dossier data/\nVérifier que toutes les règles ajoutées précédemment fonctionnent comme attendu\n\n\n\n\n❓ Question : que se passe-t-il lorsque l’on ajoute au .gitignore des fichiers qui ont déjà été commit sur le projet Git ?"
  },
  {
    "objectID": "slides/complete.html#outils-pour-le-travail-collaboratif",
    "href": "slides/complete.html#outils-pour-le-travail-collaboratif",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Outils pour le travail collaboratif",
    "text": "Outils pour le travail collaboratif\n\nL’éco-système Git facilite le travail collaboratif\n\nGit  : modèle des branches\nGitHub  / GitLab  : Issues, Merge Requests, Forks\n\n\n\n\nCes outils ne remplacent pas une bonne définition de l’organisation du travail en équipe\n\nChoix d’un workflow (exemples : périmètre des “projets”, conventions de nommage des branches, etc.)\nDroits d’accès\nRègles de contribution"
  },
  {
    "objectID": "slides/complete.html#application-4",
    "href": "slides/complete.html#application-4",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 4",
    "text": "Application 4\n\n\n\nSynchronisation des dépôts\n\n\n\nSe mettre par groupes de 3/4 personnes:\n\nUne personne aura la responsabilité d’être mainteneur\nDeux à trois personnes seront développeurs\n\nLe mainteneur crée un dépôt sur Gitlab. Il/Elle donne des droits au(x) développeur(s) du projet\nCréer une copie locale (clone) du projet sur son Z\nCréer un fichier &lt;votre_nom&gt;-&lt;votre_prenom&gt;.md. Écrire dedans trois phrases de son choix sans ponctuation ni majuscules, puis commit et push les modifications\nÀ ce stade, une seule personne (la plus rapide) devrait ne pas avoir rencontré de rejet du push. C’est normal ! Le premier ayant fait un push a modifié le dépôt commun ; les autres doivent intégrer ces modifications dans leur version locale (pull) avant d’avoir le droit de proposer un changement."
  },
  {
    "objectID": "slides/complete.html#divergence-dhistoriques-cas-simple",
    "href": "slides/complete.html#divergence-dhistoriques-cas-simple",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Divergence d’historiques : cas simple",
    "text": "Divergence d’historiques : cas simple\n\n\n\nAvec un pull, Git résout le problème via un fast-forward merge\n\nGit crée un commit de merge de l’historique distant dans le local\nNota bene : rend l’historique non linéaire"
  },
  {
    "objectID": "slides/complete.html#divergence-dhistoriques-cas-compliqué",
    "href": "slides/complete.html#divergence-dhistoriques-cas-compliqué",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Divergence d’historiques : cas compliqué",
    "text": "Divergence d’historiques : cas compliqué\n\n\n\nGit ne peut pas résoudre de lui même la divergence\n\n\n\n\nL’utilisateur doit résoudre le conflit"
  },
  {
    "objectID": "slides/complete.html#résoudre-les-conflits-linterface-rstudio",
    "href": "slides/complete.html#résoudre-les-conflits-linterface-rstudio",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Résoudre les conflits : l’interface RStudio",
    "text": "Résoudre les conflits : l’interface RStudio\n\n\nChoisir la version à conserver\n\nSupprimer les “marquages” du conflit\n\nCommit et push les changements"
  },
  {
    "objectID": "slides/complete.html#application-5",
    "href": "slides/complete.html#application-5",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 5",
    "text": "Application 5\n\n\n\nRésoudre les conflits\n\n\n\nOn se place dans la même configuration que dans l’application précédente : un mainteneur et deux/trois développeurs\nLe mainteneur modifie le contenu de son fichier, puis commit et push les modifications\nSans faire de pull préalable, les développeurs modifient également le contenu du fichier du [mainteneur], puis commit et push les modifications\nLe push est rejeté pour la même raison que dans l’application précédente : les dépôts ne sont plus synchronisés, il faut pull les changements distants au préalable. Mais cette fois, le pull est également rejeté : il y a un conflit entre l’historique du projet distant et celui du projet local. Git nous indique qu’il faut résoudre le conflit avant de pouvoir modifier l’historique du projet.\nUtiliser l’interface de RStudio pour résoudre le conflit, en choisissant la version du fichier que vous souhaitez conserver, puis commit/push les modifications\nComme dans l’application précédente, seul le développeur le plus rapide parvient à push. Les autres doivent répéter l’opération.\n\n\n\n\n❓ Question : comment limiter au maximum la survenue des conflits d’historique ?"
  },
  {
    "objectID": "slides/complete.html#le-modèle-des-branches",
    "href": "slides/complete.html#le-modèle-des-branches",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Le modèle des branches",
    "text": "Le modèle des branches"
  },
  {
    "objectID": "slides/complete.html#le-modèle-des-branches-1",
    "href": "slides/complete.html#le-modèle-des-branches-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Le modèle des branches",
    "text": "Le modèle des branches"
  },
  {
    "objectID": "slides/complete.html#application-6",
    "href": "slides/complete.html#application-6",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 6",
    "text": "Application 6\n\n\n\nBranches, issues et merge requests\n\n\n\nSur GitLab, chaque personne ouvre une Issue sur le même dépôt que les applications précédentes, dans laquelle vous suggérez une modification à apporter à votre projet\nVia Rstudio, créer une branche dont le nom indique la modification que vous allez apporter. ➡️ utiliser l’icône violette dans l’onglet Git, sur la droite. ⚠️ : être attentif à la branche depuis laquelle vous créez votre nouvelle branche.\nVérifier que vous êtes bien positionné sur la nouvelle branche. Effectuer un commit avec les modifications de votre choix, puis pousser les changements.\nOuvrir une Merge Request (MR) pour proposer d’intégrer vos changements sur la branche principale du dépôt distant.\nChaque personne effectue finalement une review d’une MR d’un autre membre de l’équipe, suite à quoi les différentes MR peuvent être fusionnées\n\n\n\n\n❓ Question : quelle organisation pour merge dans la branche principale ?"
  },
  {
    "objectID": "slides/complete.html#ressources-supplémentaires",
    "href": "slides/complete.html#ressources-supplémentaires",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\nPour aller plus loin:\n\nFormation Travail collaboratif avec R\nLa documentation utilitR propose plusieurs chapitres sur Git\nLa Bible de l’usage de Git\n\n\n\n\nTrouver de l’aide:\n\nPour toute question : le salon Tchap Insee-Git-Gitlab (💡 utilisez Tchap via l’interface Element, dispo sur le centre logiciel !)\nA l’Insee : la documentation utilisateurs pour l’utilisation de Git sur AUS\nSollicitez vos collègues utilisateurs de Git !"
  },
  {
    "objectID": "slides/complete.html#plan-de-la-partie-1",
    "href": "slides/complete.html#plan-de-la-partie-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Plan de la partie",
    "text": "Plan de la partie\nAméliorations graduelles dans l’échelle de la reproductibilité :\n1️⃣ Qualité du code\n\n2️⃣ Structure des projets\n\n\n3️⃣ Formats de données\n\n\n4️⃣ Environnements reproductibles\n\n\n5️⃣ Pipelines de données\n\n\n6️⃣ Publication reproductible"
  },
  {
    "objectID": "slides/complete.html#application-0-1",
    "href": "slides/complete.html#application-0-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 0",
    "text": "Application 0\n\n\n\nPréparation de l’environnement de travail\n\n\n\nCréer un nouveau dépôt public sur GitLab, dans le groupe de la formation, sous-groupe “exos-individuels”\nCloner le dépôt distant sur votre environnement local (ici, le RStudio de votre Z):\n\nFile → New project → Version Control → Git\n\nCréer un script get_data.R en copiant le contenu de ce fichier, puis l’exécuter\nCréer le script script.R dans votre dépôt en copiant le contenu de ce fichier\nAjouter la règle “individu_reg.*” au fichier .gitignore. Que signifie-t-elle ?\nCommit/push les changements"
  },
  {
    "objectID": "slides/complete.html#enjeux",
    "href": "slides/complete.html#enjeux",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Enjeux",
    "text": "Enjeux\n\nD’une vision utilitariste du code à une vision du code comme outil de communication\n\n\n\nFavoriser la lisibilité et la maintenabilité\n\n\n\n\nFaciliter la réutilisation\n\n\n\n\nAssurer la transparence méthodologique"
  },
  {
    "objectID": "slides/complete.html#principes-généraux",
    "href": "slides/complete.html#principes-généraux",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Principes généraux",
    "text": "Principes généraux\n\nAdopter les standards communautaires\n\n\n\nUtiliser des fonctions\n\n\n\n\nDocumenter son code\n\n\n\n\nIndiquer les packages utilisés afin d’éviter les conflits"
  },
  {
    "objectID": "slides/complete.html#adopter-les-standards-communautaires",
    "href": "slides/complete.html#adopter-les-standards-communautaires",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Adopter les standards communautaires",
    "text": "1️⃣ Adopter les standards communautaires\n\n“Good coding style is like correct punctuation: you can manage without it, butitsuremakesthingseasiertoread”\nTidyverse Style Guide\n\n\n\nRespecter les conventions du langage dans lequel il est rédigé\n\n\n\n\nIl existe un guide de référence pour bien coder en R : le Tidyverse style guide."
  },
  {
    "objectID": "slides/complete.html#adopter-les-standards-communautaires-1",
    "href": "slides/complete.html#adopter-les-standards-communautaires-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Adopter les standards communautaires",
    "text": "1️⃣ Adopter les standards communautaires\nDeux outils pratiques aident à respecter les standards :\n\nlinter : programme qui vérifie que le code est formellement conforme à un certain guidestyle\n\nsignale problèmes formels, sans corriger\n\n\n\n\nformatter : programme qui reformate un code pour le rendre conforme à un certain guidestyle\n\nmodifie directement le code\n\n\n\n\n\n\n\n\n\n\nAstuce\n\n\n\nExemples d’erreurs repérées par un linter :\n\nlignes de code trop longues ou mal indentées, parenthèses non équilibrées, noms de fonctions mal construits…\n\nExemples d’erreurs non repérées par un linter :\n\nfonctions mal utilisées, arguments mal spécifiés, structure du code incohérente, code insuffisamment documenté…"
  },
  {
    "objectID": "slides/complete.html#adopter-les-standards-communautaires-2",
    "href": "slides/complete.html#adopter-les-standards-communautaires-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Adopter les standards communautaires",
    "text": "1️⃣ Adopter les standards communautaires\n\nDans le cas de  :\n\nle linter à utiliser est le package lintr\nle formatter à utiliser est le package styler.\n\nExiste également le package formatR."
  },
  {
    "objectID": "slides/complete.html#utiliser-des-fonctions",
    "href": "slides/complete.html#utiliser-des-fonctions",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\n\n\n\n\n\n\nRègle d’or\n\n\nIl faut utiliser une fonction dès qu’on utilise une même portion de code plus de deux fois (don’t repeat yourself (DRY))\n\n\n\n\nLimite les risques d’erreurs liés aux copier/coller\nRend le code plus lisible et plus compact\nUn seul endroit du code à modifier lorsqu’on souhaite modifier le traitement\nFacilite la réutilisation et la documentation du code !\n\n\n\n\n\n\n\n\nRègles pour écrire des fonctions pertinentes\n\n\n\nUne tâche = une fonction\nUne tâche complexe = un enchaînement de fonctions réalisant chacune une tâche simple\nLimiter l’utilisation de variables globales."
  },
  {
    "objectID": "slides/complete.html#utiliser-des-fonctions-1",
    "href": "slides/complete.html#utiliser-des-fonctions-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\nÀ ne pas reproduire chez vous. La fonction doit mobiliser ses paramètres et, théoriquement, rien d’autre."
  },
  {
    "objectID": "slides/complete.html#utiliser-des-fonctions-2",
    "href": "slides/complete.html#utiliser-des-fonctions-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\nÀ ne pas reproduire chez vous"
  },
  {
    "objectID": "slides/complete.html#utiliser-des-fonctions-3",
    "href": "slides/complete.html#utiliser-des-fonctions-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\nÀ ne pas reproduire chez vous"
  },
  {
    "objectID": "slides/complete.html#utiliser-des-fonctions-4",
    "href": "slides/complete.html#utiliser-des-fonctions-4",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Utiliser des fonctions",
    "text": "2️⃣ Utiliser des fonctions\nÀ ne pas reproduire chez vous"
  },
  {
    "objectID": "slides/complete.html#documenter-son-code",
    "href": "slides/complete.html#documenter-son-code",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Documenter son code",
    "text": "3️⃣ Documenter son code\n\nGrands principes :\n\nDocumenter le pourquoi plutôt que le comment\nPrivilégier l’auto-documentation via des nommages pertinents.\n\n\n\n\n\n\n\n\n\nComment bien documenter un script ?\n\n\n\nMinimum 🚦 : commentaire au début du script pour décrire ce qu’il fait\nBien 👍 : commenter les parties “délicates” du code\nIdéal 💪 : documenter ses fonctions avec la syntaxe roxygen2."
  },
  {
    "objectID": "slides/complete.html#documenter-son-code-1",
    "href": "slides/complete.html#documenter-son-code-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Documenter son code",
    "text": "3️⃣ Documenter son code\n\n\n\n\n\n\nUtiliser aussi “l’auto-documentation” pour les noms de répertoire !\n\n\n❎ pas de répertoires avec votre prénom, votre nom ou vos initiales.\n\n\n\n…au risque de se retrouver avec ça :  Taille totale : 7 Go"
  },
  {
    "objectID": "slides/complete.html#pas-dambiguïté-sur-les-packages-utilisés",
    "href": "slides/complete.html#pas-dambiguïté-sur-les-packages-utilisés",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Pas d’ambiguïté sur les packages utilisés",
    "text": "4️⃣ Pas d’ambiguïté sur les packages utilisés\n\nDeux fonctions peuvent avoir le même nom dans des packages différents\n\n\n\nR utilise par défaut la librairie chargée le plus récemment\n\n\n\n\nErreurs difficiles à repérer car il est nécessaire d’exécuter le code\n\n\n\n\nRecommandation : indiquer explicitement le package : notation package::fonction()\n\nExemple : dplyr::filter()\n\n\n\n\n\n\n\n\nExemple\n\n\n\npackage1 et package2 contiennent chacun une fonction appelée superFonction.\nSi package2 est chargé après package1, alors superFonction désigne par défaut la fonction de package2.\nMieux vaut noter package1::superFonction et package2::superFonction"
  },
  {
    "objectID": "slides/complete.html#pas-dambiguïté-sur-les-packages-utilisés-1",
    "href": "slides/complete.html#pas-dambiguïté-sur-les-packages-utilisés-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Pas d’ambiguïté sur les packages utilisés",
    "text": "4️⃣ Pas d’ambiguïté sur les packages utilisés\n\n\n\n\n\n\nSpécial conj\n\n\nDès que vos codes font appels à des fonctions des packages “maison” tels que pRev ou RConj : ajoutez le nom du package devant la fonction. Lors des montées de version des packages, vous retrouverez facilement les endroits dans vos codes qui peuvent être affectés.\n\n\n\n\n\n\n\n\n\nAstuce RStudio\n\n\nCtrl+Maj+F : permet de chercher un terme dans l’ensemble des scripts d’un répertoire.\n➡️ pour retrouver facilement les appels à un package donné."
  },
  {
    "objectID": "slides/complete.html#ressources-supplémentaires-1",
    "href": "slides/complete.html#ressources-supplémentaires-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\n\nUn cours complet sur la reproductibilité avec R\nUne présentation très complète sur le partage de code et de données avec R\nL’équivalent Python en 3A d’ENSAE"
  },
  {
    "objectID": "slides/complete.html#application-1-1",
    "href": "slides/complete.html#application-1-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 1 : vérification du bon fonctionnement du code\n\n\nUn code reproductible est avant toute chose un code fonctionnel ! Repérez les erreurs qui empêchent le script script.R de s’exécuter correctement, et les corriger."
  },
  {
    "objectID": "slides/complete.html#application-1-2",
    "href": "slides/complete.html#application-1-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 2 : premiers standards de qualité\n\n\n\nInstaller les packages R lintr et styler.\nDéfinir le linter à utiliser comme étant de type tidyverse : lintr::use_lintr(type = \"tidyverse\")\nDiagnostiquer le script script.R : lintr::lint(\"script.R\").\n\nComprenez-vous la nature des problèmes détectés par le linter?\n\nAppliquer le formatter au script.R : styler::style_file(\"script.R\").\nRefaire tourner le linter. Il reste encore un certain nombre d’erreurs de formattage, car styler est un formatter peu intrusif.\nRegarder les différents problèmes repérés par le linter, et en corriger quelques uns (un pour chaque type de problème)."
  },
  {
    "objectID": "slides/complete.html#application-1-3",
    "href": "slides/complete.html#application-1-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 3 : une meilleure gestion des packages utilisés\n\n\n\nLimiter les ambiguités sur les packages en utilisant la syntaxe package::fonction pour les packages rarement utilisés dans le script.\nL’installation des packages dans un script n’est pas une bonne pratique. Supprimer les instructions correspondantes.\nImporter le tidyverse au complet est rarement utile. N’importer à la place que les packages effectivement utilisés dans le script."
  },
  {
    "objectID": "slides/complete.html#application-1-4",
    "href": "slides/complete.html#application-1-4",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 4 : (auto-)documentation du code\n\n\n\nDéplacer les library pour les mettre tous ensemble au début du script.\nLe script n’est pas construit dans un ordre logique. Déplacer les parties pour adopter une structure plus logique :\n\nGestion de l’environnement -&gt; Définition de fonctions -&gt; Import des données -&gt; Retraitement des données -&gt; Statistiques descriptives -&gt; Graphiques -&gt; Modélisation\n\nDonner des titres aux parties/sous-parties en utilisant les standards de documentation reconnus par RStudio :\n\n# TITRE NIVEAU 1 ------------ et ## TITRE NIVEAU 2 =========="
  },
  {
    "objectID": "slides/complete.html#application-1-5",
    "href": "slides/complete.html#application-1-5",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 1",
    "text": "Application 1\n\n\n\nPartie 5 : une meilleure gestion des secrets\n\n\n\n\nRepérer le jeton d’API dans le code. Retirer le jeton d’API du code et créer à la racine du projet un fichier YAML nommé secrets.yaml où vous écrivez ce secret sous la forme key: value. ⚠️ Attention : le package yaml impose la création d’une ligne vierge à la fin du fichier pour être valide.\nDans script.R, importer ce YAML (avec yaml::read_yaml(\"secrets.yaml\")) pour créer une variable api_token ayant cette valeur.\nAjouter dans .gitignore le fichier secrets.yaml et indiquer dans le README.md de votre projet que les secrets sont stockés dans ce fichier. ⚠️ Attention : il ne faut pas committer secrets.yaml car le jeton d’API est personnel et secret!"
  },
  {
    "objectID": "slides/complete.html#checkpoint",
    "href": "slides/complete.html#checkpoint",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Checkpoint",
    "text": "Checkpoint\n\n\n\n\nscript.R"
  },
  {
    "objectID": "slides/complete.html#bilan",
    "href": "slides/complete.html#bilan",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Bilan",
    "text": "Bilan\n\nUn code mal structuré\n\nLimite la lisibilité du projet\nEst très coûteux à maintenir (dette technique)"
  },
  {
    "objectID": "slides/complete.html#enjeux-1",
    "href": "slides/complete.html#enjeux-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Enjeux",
    "text": "Enjeux\n\nFavoriser la lisibilité et la maintenabilité\n\n\n2 Construire des projets reproductibles"
  },
  {
    "objectID": "slides/complete.html#a-ne-pas-reproduire-chez-vous",
    "href": "slides/complete.html#a-ne-pas-reproduire-chez-vous",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "⚠️ A ne pas reproduire chez vous",
    "text": "⚠️ A ne pas reproduire chez vous\n\n├── report.Rmd\n├── correlation.png\n├── data.csv\n├── data2.csv\n├── fig1.png\n├── figure 2 (copy).png\n├── report.pdf\n├── partial data.csv\n├── script.R\n└── script_final.R\nSource : eliocamp.github.io"
  },
  {
    "objectID": "slides/complete.html#principes-généraux-1",
    "href": "slides/complete.html#principes-généraux-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Principes généraux",
    "text": "Principes généraux\n\nUtiliser les projets RStudio\n\n\n\nOrganiser son projet en sous-dossiers\n\n\n\n\nDonner des noms pertinents aux fichiers\n\n\n\n\nDocumenter son projet\n\n\n\n\n(Faire de son projet un package)"
  },
  {
    "objectID": "slides/complete.html#utiliser-les-projets-rstudio",
    "href": "slides/complete.html#utiliser-les-projets-rstudio",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Utiliser les projets RStudio",
    "text": "1️⃣ Utiliser les projets RStudio\n\nObjectif : favoriser la reproductibilité\n\nTous les fichiers nécessaires au projet dans un même dossier\nLe dossier contenant le projet RStudio est automatiquement utilisé comme working directory\nUtilisation de chemins relatifs plutôt qu’absolus.\n\n\n\n\nBonus : en utilisant Git, on s’assure de toujours travailler dans un projet RStudio !"
  },
  {
    "objectID": "slides/complete.html#organiser-son-projet-en-sous-dossiers",
    "href": "slides/complete.html#organiser-son-projet-en-sous-dossiers",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Organiser son projet en sous-dossiers",
    "text": "2️⃣ Organiser son projet en sous-dossiers\n\nObjectif : adopter une structure arbitraire, mais lisible et cohérente\n\n├── data\n│   ├── raw\n│   │   ├── data.csv\n│   │   └── data2.csv\n│   └── derived\n│       └── partial data.csv\n├── R\n|   ├── script.R\n│   ├── script_final.R\n│   └── report.Rmd\n└── output\n    ├── fig1.png\n    ├── figure 2 (copy).png\n    ├── figure10.png\n    ├── correlation.png\n    └── report.pdf"
  },
  {
    "objectID": "slides/complete.html#donner-des-noms-pertinents-aux-fichiers",
    "href": "slides/complete.html#donner-des-noms-pertinents-aux-fichiers",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Donner des noms pertinents aux fichiers",
    "text": "3️⃣ Donner des noms pertinents aux fichiers\n\nObjectif : auto-documenter son projet\n\n├── data\n│   ├── raw\n│   │   ├── dpe_logement_202103.csv\n│   │   └── dpe_logement_202003.csv\n│   └── derived\n│       └── dpe_logement_merged_preprocessed.csv\n├── R\n|   ├── preprocessing.R\n│   ├── generate_plots.R\n│   └── report.Rmd\n└── output\n    ├── histogram_energy_diagnostic.png\n    ├── barplot_consumption_pcs.png\n    ├── correlation_matrix.png\n    └── report.pdf"
  },
  {
    "objectID": "slides/complete.html#documenter-son-projet",
    "href": "slides/complete.html#documenter-son-projet",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Documenter son projet",
    "text": "4️⃣ Documenter son projet\n\nLe fichier README.md, situé à la racine du projet, est à la fois la carte d’identité et la vitrine du projet\n\n\nIdéalement, il contient :\n\nUne présentation du contexte et des objectifs\nUne description de son fonctionnement\nUn guide de contribution (open-source)\n\n\n\n\nQuelques modèles de README.md complets :\n\nutilitR\nDoReMIFaSol"
  },
  {
    "objectID": "slides/complete.html#ressources-supplémentaires-2",
    "href": "slides/complete.html#ressources-supplémentaires-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\n\nLa documentation utilitR sur les projets RStudio et les packages R \nUn excellent workshop sur la reproductibilité avec R"
  },
  {
    "objectID": "slides/complete.html#expérience-de-pensée",
    "href": "slides/complete.html#expérience-de-pensée",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Expérience de pensée",
    "text": "Expérience de pensée\n\nImaginons la situation suivante :\n\nJ’installe une version de R sur mon poste\nJe développe un projet en installant les packages nécessaires\nUne fois terminé, je passe au projet suivant, et ainsi de suite.\n\nQuels problèmes puis-je rencontrer au fil des projets ?\nEst-il facile de partager un de mes projets ?"
  },
  {
    "objectID": "slides/complete.html#enjeux-2",
    "href": "slides/complete.html#enjeux-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Enjeux",
    "text": "Enjeux\n\nVersion de R fixe, celle de l’installation système\n\n\n\nConflits de version : différents projets peuvent requérir différentes versions d’un même package.\n\n\n\n\nReproductibilité limitée : difficile de dire quel projet nécessite quel package.\n\n\n\n\nPortabilité limitée : difficile de préciser dans un fichier les dépendances spécifiques à un projet."
  },
  {
    "objectID": "slides/complete.html#des-environnements-reproductibles-avec-renv",
    "href": "slides/complete.html#des-environnements-reproductibles-avec-renv",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Des environnements reproductibles avec renv",
    "text": "Des environnements reproductibles avec renv\n\nrenv permet de créer des environnements reproductibles\n\n\n\nIsolation : chaque projet dispose de sa propre librairie de packages\n\n\n\n\nReproductibilité : renv enregistre les versions exactes des packages nécessaires au projet\n\n\n\n\nPortabilité: un tiers peut exécuter le projet avec les mêmes spécifications"
  },
  {
    "objectID": "slides/complete.html#utilisation-de-renv",
    "href": "slides/complete.html#utilisation-de-renv",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Utilisation de renv",
    "text": "Utilisation de renv\n\nInitialisation (init) de l’environnement local du projet\n\n\n\nDéveloppement du projet\n\n\n\n\nEnregistrement (snapshot) des versions des packages installés\n\n\n\n\nRestauration (restore) d’un environnement"
  },
  {
    "objectID": "slides/complete.html#initialisation-de-lenvironnement",
    "href": "slides/complete.html#initialisation-de-lenvironnement",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Initialisation de l’environnement",
    "text": "1️⃣ Initialisation de l’environnement\n\nrenv::init() dans un projet RStudio crée :\n\nUn dossier renv et le fichier .Rprofile : activation automatique de l’environnement\nLe fichier renv.lock : versions des packages installés"
  },
  {
    "objectID": "slides/complete.html#développement-du-projet",
    "href": "slides/complete.html#développement-du-projet",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Développement du projet",
    "text": "2️⃣ Développement du projet\n\nUne fois l’environnement initialisé, on développe le projet de manière habituelle :\n\nInstallations/suppressions/mises à jour de packages\nEcriture de scripts\n\n\n\n\nrenv::status() : indique les packages installés/supprimés par rapport au fichier renv.lock"
  },
  {
    "objectID": "slides/complete.html#enregistrement-de-lenvironnement",
    "href": "slides/complete.html#enregistrement-de-lenvironnement",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Enregistrement de l’environnement",
    "text": "3️⃣ Enregistrement de l’environnement\n\nrenv::snapshot() : enregistre les versions des packages installés dans le fichier renv.lock\nNe pas oublier de committer le fichier renv.lock!"
  },
  {
    "objectID": "slides/complete.html#restauration-de-lenvironnement",
    "href": "slides/complete.html#restauration-de-lenvironnement",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "4️⃣ Restauration de l’environnement",
    "text": "4️⃣ Restauration de l’environnement\n\nrenv::restore() : installe/désinstalle les packages nécessaires pour arriver à l’état spécifié dans le fichier renv.lock\n\n\n\nPortabilité : un tiers peut recréer un environnement avec les mêmes spécifications"
  },
  {
    "objectID": "slides/complete.html#application-4-1",
    "href": "slides/complete.html#application-4-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 4",
    "text": "Application 4\n\n\n\nPartie 1 : prise en main de la librairie renv\n\n\n\nInstaller le package renv\nTaper dans la console renv::init(), lire le message et accepter.\nObserver les nouveaux élements qui sont apparus dans le projet.\nInstaller le package gt et observer le message dans la console.\nDans la partie sur les statistiques descriptives d’âge, ajouter ce code :\nstats_age &lt;- df %&gt;%\n  group_by(decennie = decennie_a_partir_annee(age)) %&gt;%\n  summarise(n())\n\ntable_age &lt;- gt::gt(stats_age) %&gt;%\n  gt::tab_header(\n    title = \"Distribution des âges dans notre population\"\n  ) %&gt;%\n  gt::fmt_number(\n    columns = `n()`,\n    sep_mark = \" \",\n    decimals = 0\n  ) %&gt;%\n  gt::cols_label(\n    decennie = \"Tranche d'âge\",\n    `n()` = \"Population\"\n  )"
  },
  {
    "objectID": "slides/complete.html#application-4-2",
    "href": "slides/complete.html#application-4-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 4",
    "text": "Application 4\n\n\n\nPartie 2 : faire un snapshot de l’environnement\n\n\n\n\nDans la console, faire renv::status() et observer le message.\nEffectuer renv::snapshot() pour intégrer les nouveaux packages au lockfile\nFaire un commit / push des fichiers script.R, .Rprofile, renv.lock et du dossier renv/."
  },
  {
    "objectID": "slides/complete.html#vers-une-reproductibilité-optimale",
    "href": "slides/complete.html#vers-une-reproductibilité-optimale",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Vers une reproductibilité optimale",
    "text": "Vers une reproductibilité optimale\n\nLimites des environnements virtuels :\n\nLes librairies système ne sont pas gérées\nLourdeur de la phase d’installation à chaque changement d’environnement\nPeu adaptés à un environnement de production\n\n\n\n\nLa conteneurisation (ex : Docker) apporte la solution\n\n\n\n\nIntuition : au lieu de distribuer la recette pour recréer l’environnement, distribuer directement une “machine” qui contient tout l’environnement nécessaire au projet"
  },
  {
    "objectID": "slides/complete.html#ressources-supplémentaires-3",
    "href": "slides/complete.html#ressources-supplémentaires-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\nLa documentation officielle de renv\nLa fiche utilitR sur la gestion des dépendances"
  },
  {
    "objectID": "slides/complete.html#motivations",
    "href": "slides/complete.html#motivations",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Motivations",
    "text": "Motivations\n\nUne analyse de données ou une chaîne de production font intervenir des étapes standardisées\nCes étapes peuvent être formalisées sous forme d’un pipeline (direct acyclic graph)\n\n\nSource"
  },
  {
    "objectID": "slides/complete.html#motivations-1",
    "href": "slides/complete.html#motivations-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Motivations",
    "text": "Motivations\n\nModéliser ces étapes sous forme de pipeline (direct acyclic graph) a plusieurs avantages :\n\n\nDécouplage des différentes étapes\nFacilite la planification du traitement\nFacilite la prise en main du projet par un tiers"
  },
  {
    "objectID": "slides/complete.html#le-package-targets",
    "href": "slides/complete.html#le-package-targets",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Le package targets",
    "text": "Le package targets\n\ntargets est un framework de modélisation de pipelines spécifiquement dédié aux projets R.\n\n\nDeux objectifs majeurs :\n\nRéduire le coût d’expérimentation en sauvegardant les résultats intermédiaires (targets)\nGarantir la reproductibilité de la chaîne en traçant les changements de ces targets"
  },
  {
    "objectID": "slides/complete.html#méthode-de-travail-avec-targets",
    "href": "slides/complete.html#méthode-de-travail-avec-targets",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Méthode de travail avec targets",
    "text": "Méthode de travail avec targets\n\nOn développe dans des scripts :\n\nFonctions dans un ou plusieurs fichiers dédiés\nChaîne de production dans un fichier _targets.R\n\n\n\n\nOn gère l’exécution du pipeline directement dans la console\n\ntar_visnetwork() pour inspecter la structure du pipeline\ntar_make pour exécuter la chaine de production\n\n\n\n\n\n\n\n\nNote\n\n\nQuand on part du chaine de traitement dans un fichier déja existant (script.R par exemple), il faut faire la transition vers un fichier _targets.R dont la structure est particulière."
  },
  {
    "objectID": "slides/complete.html#un-projet-minimaliste",
    "href": "slides/complete.html#un-projet-minimaliste",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "1️⃣ Un projet minimaliste",
    "text": "1️⃣ Un projet minimaliste\n\nStructure de projet opinionated :\n\nLong script script.R _targets.R\nChaîne de production: suite d’appels à des fonctions définies dans R/functions.R\n\n\n\n├── _targets.R\n├── data\n│   ├── raw\n│   │   └── data.csv\n├── R\n│   └── functions.R\n\n\n\nNouveau fichier: _targets.R\n\nContrôle le comportement de notre chaine de traitement\nEnchaînement d’étapes de transformation de données selon une syntaxe particulière"
  },
  {
    "objectID": "slides/complete.html#le-fichier-_targets.r",
    "href": "slides/complete.html#le-fichier-_targets.r",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "2️⃣ Le fichier _targets.R",
    "text": "2️⃣ Le fichier _targets.R\n\nLe fichier _targets.R doit satisfaire plusieurs conditions :\n\nCharger le package targets\nCharger dans l’environnement les fonctions nécessaires\nDéclarer les packages nécessaires aux différentes étapes\nDéfinir le pipeline.\n\n\n\n# _targets.R file\nlibrary(targets)\nsource(\"R/functions.R\")\ntar_option_set(packages = c(\"readr\", \"dplyr\", \"ggplot2\"))\nlist(\n  tar_target(file, \"data.csv\", format = \"file\"),\n  tar_target(data, get_data(file)),\n  tar_target(model, fit_model(data)),\n  tar_target(plot, plot_model(model, data))\n)\n\n\n\n\n\n\nNote\n\n\nLes fonctions get_data, fit_model et plot_model sont définies dans 📁 R/functions.R"
  },
  {
    "objectID": "slides/complete.html#inspecter-le-pipeline",
    "href": "slides/complete.html#inspecter-le-pipeline",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Inspecter le pipeline",
    "text": "3️⃣ Inspecter le pipeline\n\nLa fonction tar_visnetwork permet de visualiser le pipeline"
  },
  {
    "objectID": "slides/complete.html#exécuter-le-pipeline",
    "href": "slides/complete.html#exécuter-le-pipeline",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "3️⃣ Exécuter le pipeline",
    "text": "3️⃣ Exécuter le pipeline\n\nLa fonction tar_make exécute le pipeline défini dans _targets.R\n\n\n\n\n\n\n\n💡 Lors des exécutions suivantes, targets saute automatiquement les étapes qui n’ont pas changé"
  },
  {
    "objectID": "slides/complete.html#ressources-supplémentaires-4",
    "href": "slides/complete.html#ressources-supplémentaires-4",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\nLa documentation officielle de targets\nLa fiche UtilitR dédiée à targets"
  },
  {
    "objectID": "slides/complete.html#application-5-1",
    "href": "slides/complete.html#application-5-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 5",
    "text": "Application 5\n\n\n\nModélisation d’un projet sous forme de pipeline de données\n\n\n\nInstaller le package targets.\nCréer un fichier _targets.R à la racine du dépôt, à partir de l’exemple dans la documentation.\nAjouter _targets/ dans le .gitignore.\nReporter les library dans le fichier R/functions.R et récupérer les noms des packages pour les mettre dans la section tar_option_set().\nAjouter dans R/functions.R les fonctions read_yaml_secret et read_from_parquet:\n\nread_yaml_secret &lt;- function(path, key) {\n  return(yaml::read_yaml(path)[[key]])\n}\nread_from_parquet &lt;- function(path) {\n  df &lt;- arrow::read_parquet(\n    path,\n    col_select  = c(\n      \"region\", \"aemm\", \"aged\", \"anai\", \"catl\", \"cs1\", \"cs2\", \"cs3\",\n      \"couple\", \"na38\", \"naf08\", \"pnai12\", \"sexe\", \"surf\", \"tp\",\n      \"trans\", \"ur\"\n    )\n  )\n  return(df)\n}"
  },
  {
    "objectID": "slides/complete.html#application-5-2",
    "href": "slides/complete.html#application-5-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 5",
    "text": "Application 5\n\n\n\nModélisation d’un projet sous forme de pipeline de données (suite)\n\n\n\nEn extrayant du contenu de script.R, créer les deux premières cibles (targets) dans _targets.R:\n\nCréer les targets file_token et file_data stockant les chemins de nos fichiers en entrée\n⚠️ Ne pas oublier l’argument format = 'file' dans tar_target\n\nCréer les deux cibles suivantes dans _targets.R:\n\nCréer token et data à partir, respectivement, de read_yaml_secret et read_from_parquet.\nPour data, utiliser l’argument format = 'parquet' dans tar_target.\n\nVisualiser les relations entre objets de notre pipeline en utilisant dans la console R la fonction tar_visnetwork().\nExécuter tar_make() dans la console et observer le changement d’état avec tar_visnetwork()."
  },
  {
    "objectID": "slides/complete.html#application-5-3",
    "href": "slides/complete.html#application-5-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 5",
    "text": "Application 5\n\n\n\nModélisation d’un projet sous forme de pipeline de données (suite)\n\n\n\nA partir des fonctions suivantes, créer deux nouvelles cibles (clean_data et table_age) qui automatisent la production du tableau gt\n\nretraitement_donnees &lt;- function(df){\n  df &lt;- df %&gt;%\n    mutate(aged = as.numeric(aged))\n  df$sexe &lt;- df$sexe %&gt;%\n    as.character() %&gt;%\n    fct_recode(Homme = \"1\", Femme = \"2\")\n  return(df)\n}\n\n\nproduce_table_age &lt;- function(df){\n  stats_age &lt;- df %&gt;%\n    group_by(decennie = decennie_a_partir_annee(aged)) %&gt;%\n    summarise(n())\n  \n  table_age &lt;- gt::gt(stats_age) %&gt;%\n    gt::tab_header(\n      title = \"Distribution des âges dans notre population\"\n    ) %&gt;%\n    gt::fmt_number(\n      columns = `n()`,\n      sep_mark = \" \",\n      decimals = 0\n    ) %&gt;%\n    gt::cols_label(\n      decennie = \"Tranche d'âge\",\n      `n()` = \"Population\"\n    )\n  return(table_age)\n}\n\nEn console, visualiser l’état du pipeline avec tar_visnetwork puis exécuter tar_make(). Analyser la sortie dans la console.\nA l’aide de la fonction tar_read(table_age), visualiser la table des âges produite.\nAjouter les commandes suivantes au sein de la fonction retraitement_donnees pour la modifier:\n\ndf &lt;- df %&gt;%\n  mutate(\n    surf = factor(surf, ordered = TRUE),\n    cs1 = factor(cs1)\n  )\n\nDepuis la console, inspecter le _pipeline avec tar_visnetwork puis exécuter tar_make() pour lancer le pipeline. Analyser la sortie.\nSi vous avez le temps, continuer à enrichir votre pipeline\n\n\n\n\n:::"
  },
  {
    "objectID": "slides/complete.html#checkpoint-1",
    "href": "slides/complete.html#checkpoint-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Checkpoint",
    "text": "Checkpoint\n\n\n\n\nfunctions.R\n_targets.R"
  },
  {
    "objectID": "slides/complete.html#enjeux-3",
    "href": "slides/complete.html#enjeux-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Enjeux",
    "text": "Enjeux\n\nProduire des études reproductibles en intégrant le code et le texte dans un même document\n\n\n\nLa génération complète de l’étude est contenue dans un unique projet\n\n\n\n\nLimiter les risques d’erreurs dues aux gestes manuels\n\n\n\n\nGestion native de différents formats pour le document final (pdf, html, odt, etc.)"
  },
  {
    "objectID": "slides/complete.html#r-markdown",
    "href": "slides/complete.html#r-markdown",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "R Markdown",
    "text": "R Markdown\n\nR Markdown est un package R qui permet de lier\n\nDu texte au format Markdown\nDu code R qui peut être exécuté et dont les sorties peuvent être intégrées au texte\n\n\n\n\nDissociation du fond et de la forme du document\n\n\nUn document est compilé en deux étapes\n\nknit : le package knitr transforme le texte et les sorties R en un document Markdown standard\nconvert : le logiciel pandoc transforme le document .md en un format de sortie standard (html, pdf, etc.)"
  },
  {
    "objectID": "slides/complete.html#quarto",
    "href": "slides/complete.html#quarto",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Quarto",
    "text": "Quarto\n\nQuarto est le successeur de R Markdown\n\n\n\nQuarto supporte différents moteurs de calcul (knitr, Jupyter, Observable..) ce qui le rend nativement multi-langage (R, Python, JavaScript..)\n\n\n\n\nLe fonctionnement des deux systèmes reste très proche"
  },
  {
    "objectID": "slides/complete.html#anatomie-dun-document-reproductible",
    "href": "slides/complete.html#anatomie-dun-document-reproductible",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Anatomie d’un document reproductible",
    "text": "Anatomie d’un document reproductible"
  },
  {
    "objectID": "slides/complete.html#ressources-supplémentaires-5",
    "href": "slides/complete.html#ressources-supplémentaires-5",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\nLa documentation officielle de R Markdown\nLa fiche UtilitR sur R Markdown\nLa documentation officielle de quarto"
  },
  {
    "objectID": "slides/complete.html#application-6-1",
    "href": "slides/complete.html#application-6-1",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 6",
    "text": "Application 6\n\n\n\nIntroduction à la publication reproductible\n\n\n\nCliquer sur File &gt; New file &gt; Quarto document:\n\nDonner un titre et un.e auteur.e au rapport\nChoisir HTML comme format de sortie\nDécocher la case Use visual markdown editor\n\nSauvegarder le fichier sous le nom report.qmd."
  },
  {
    "objectID": "slides/complete.html#application-6-2",
    "href": "slides/complete.html#application-6-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 6",
    "text": "Application 6\n\n\n\nIntroduction à la publication reproductible (suite)\n\n\n\nProduire une courte note présentant le tableau des âges produit précédemment :\n\nUn chunk R qui importe le package targets. Le contenu produit par ce chunk doit être caché, il est donc nécessaire d’utiliser une option\nUne courte phrase d’introduction\nDans le fichier .qmd, importer l’objet table_age via tar_load et faire en sorte d’afficher ce tableau dans le document\n\nGénérer le rapport avec le bouton Render et vérifier que l’output correspond à celui attendu.\n\n\n\n\n\n\n\n\n\n\nImportant\n\n\nEn supposant que ce document est à vocation d’une audience non technique, masquer le code ayant généré les sorties"
  },
  {
    "objectID": "slides/complete.html#application-6-3",
    "href": "slides/complete.html#application-6-3",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Application 6",
    "text": "Application 6\n\n\n\nIntroduction à la publication reproductible (suite)\n\n\n\nDans script.R, nous avions créé un graphique p.png.\n\nA partir des exemples de la documentation introduire cette figure\nLa faire précéder d’une phrase d’introduction.\nÊtes-vous sûr que cette figure est à jour ?\n\nA partir de la fonction suivante à mettre dans R/functions.R, créer une nouvelle target graph_part_hommes dans _targets.R.\n\nfigure_part_homme_age &lt;- function(df){\n  p &lt;- df %&gt;%\n    group_by(aged, sexe) %&gt;%\n    summarise(SH_sexe = n()) %&gt;%\n    group_by(aged) %&gt;%\n    mutate(SH_sexe = SH_sexe / sum(SH_sexe)) %&gt;%\n    filter(sexe == \"Homme\") %&gt;%\n    ggplot() +\n    geom_bar(aes(x = aged, y = SH_sexe), stat = \"identity\") +\n    geom_point(\n      aes(x = aged, y = SH_sexe),\n      stat = \"identity\", color = \"red\") +\n    coord_cartesian(c(0, 100))\n  return(p)\n}\n\nFaire tourner le pipeline (tar_make)\nPour être certain que votre note utilise la dernière version du pipeline, introduire un tar_make() dans votre document à la suite du library(targets)\nCliquer sur le bouton Render pour mettre à jour votre note"
  },
  {
    "objectID": "slides/complete.html#checkpoint-2",
    "href": "slides/complete.html#checkpoint-2",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Checkpoint",
    "text": "Checkpoint\n\n\n\n\nreport.qmd\nfunctions.R\n_targets.R"
  },
  {
    "objectID": "slides/complete.html#ressources-supplémentaires-6",
    "href": "slides/complete.html#ressources-supplémentaires-6",
    "title": "Bonnes pratiques pour les projets statistiques",
    "section": "Ressources supplémentaires",
    "text": "Ressources supplémentaires\n\nPour aller plus loin:\n\nLa documentation utilitR\nUn cours complet sur la reproductibilité avec R\nCours Reproductibilité et bonnes pratiques pour les projets de data science de l’ENSAE\n\n\n\n\nTrouver de l’aide:\n\nPour toute question : le salon Slack grrr, très dynamique\nLe salon Tchap Langage R\nPour l’utilisation de R à l’Insee : le salon Tchap Insee - Outils Stats v2"
  }
]